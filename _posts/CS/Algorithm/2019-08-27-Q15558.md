---
layout: post
title: ë°±ì¤€ 15558:ì í”„ ê²Œì„
date: 2019-08-27 10:24:00
author: 'SeWonKim'
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, Baekjoon, BFS]
comments: true
description: Baekjoon 15558
---

[Baekjoon 15558](https://www.acmicpc.net/problem/15558)

## Problem

1. 2ê°œì˜ ì¤„, ê° ì¤„ì€ Nê°œì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤.
2. ìœ„í—˜í•œ ì¹¸ê³¼ ì•ˆì „í•œ ì¹¸ì´ ìˆìœ¼ë©° ìœ„í—˜í•œ ì¹¸ì€ ì´ë™í•  ìˆ˜ ì—†ëŠ” ì¹¸ì´ë‹¤.
3. ë§¨ ì²˜ìŒ ìœ ì €ëŠ” ì™¼ìª½ ì¤„ 1ë²ˆ ì¹¸ ìœ„ì— ìˆìœ¼ë©° ë§¤ ì´ˆë§ˆë‹¤ 3ê°€ì§€ í–‰ë™ ì¤‘ 1ê°œë¥¼ í•´ì•¼í•œë‹¤.

```
1. í•œ ì¹¸ ì•ìœ¼ë¡œ ì´ë™
2. í•œ ì¹¸ ë’¤ë¡œ ì´ë™
3. ë°˜ëŒ€í¸ ì¤„ë¡œ ì í”„, í˜„ì¬ì¹¸ì´ ië¼ë©´ ë°˜ëŒ€ìª½ ì¹¸ i+kë²ˆ ì¹¸ìœ¼ë¡œ kë§Œí¼ ì´ë™í•´ì•¼í•œë‹¤.
```

4. Në³´ë‹¤ ë” í° ì¹¸ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš° ê²Œì„ì´ ì¢…ë£Œëœë‹¤.
5. **1ì´ˆì— í•œ ì¤„ ì”© ê° ì¤„ì˜ ì²« ì¹¸ì´ ì‚¬ë¼ì§„ë‹¤.** ì¡°ê±´ğŸ¤”

ê²Œì„ì„ í´ë¦¬ì–´ í•  ìˆ˜ ìˆì„ì§€ ì—†ì„ì§€ êµ¬í•˜ê¸°

---

&nbsp;
&nbsp;

### ğŸ³í’€ì´ ì „ëµ 2019-08-27

ê° ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ = 1ì´ˆ  
ê°„ì„ ì˜ ê°¯ìˆ˜ 100,000 ê°œ  
ğŸ‘‰ BFSë¡œ êµ¬í•˜ê¸°

1. ì™¼ìª½ ë°°ì—´ left[N], ì˜¤ë¥¸ìª½ ë°°ì—´ right[N]
2. ì™¼ìª½ ë°©ë¬¸ë°°ì—´ Dleft[N], ì˜¤ë¥¸ìª½ ë°©ë¬¸ë°°ì—´ Dright[N]
3. ì²˜ìŒ ì‹œì‘ ìœ„ì¹˜ Dleft[1] ì„ ë°©ë¬¸í–ˆë‹¤ê³  ê¸°ë¡í•˜ê³  íì— ë„£ëŠ”ë‹¤.
4. BFS ì‹œì‘
5. íê°€ emptyê°€ ë  ë•Œê¹Œì§€ íƒìƒ‰ì„ í•œë‹¤. (i+1, i-1, i+k) íƒìƒ‰
6. ë°©ë¬¸í•  ê³³ì´ ì•ˆì „í•œ ì¹¸ì´ê³ , Në³´ë‹¤ ì‘ì„ ë•Œ ë‹¤ìŒ ì¹¸ìœ¼ë¡œ ì´ë™í•˜ê³  íì— ë„£ëŠ”ë‹¤.
7. ë‹¤ìŒì— ë°©ë¬¸í•  ê³³ì´ Në³´ë‹¤ í¬ë©´ 1ì¶œë ¥, ë” ì´ìƒ ë°©ë¬¸í•  ê³³ì´ ì—†ìœ¼ë©´ 0 ì¶œë ¥

<details>
<summary>code</summary>
<div markdown="1">

```cpp
#include<iostream>
#include<cstdio>
#include<queue>
using namespace std;

int Dleft[100001];
int Dright[100001];

int main() {

	int n, k;
	cin >> n >> k;

	int left[100001];
	int right[100001];
	for (int i = 0; i < n; i++) {
		scanf("%1d", &left[i]);
		if (left[i] == 0) {
			Dleft[i] = -1;
		}
	}
	for (int i = 0; i < n; i++) {
		scanf("%1d", &right[i]);
		if (right[i] == 0) {
			Dright[i] = -1;
		}
	}

	queue<pair<char, int>> q;
	q.push(make_pair('l', 0));
	Dleft[0] = 1;
	int ans = 0;
	while (!q.empty())
	{
		int a = q.front().second;
		char line = q.front().first;
		q.pop();

		if (a + 1 >= n || a - 1 >= n || a+k >= n) {
			ans = 1;
			break;
		}


		if (line == 'l'){
			if (a + 1 < n && Dleft[a + 1] == 0){
				if (Dleft[a] <= a + 1) {
					q.push(make_pair('l', a + 1));
					Dleft[a + 1] = Dleft[a] + 1;
				}
			}
			if (a - 1 >= 0 && Dleft[a - 1] == 0){
				if (Dleft[a] <= a - 1) {
					q.push(make_pair('l', a - 1));
					Dleft[a - 1] = Dleft[a] + 1;
				}
			}

			if (a + k < n && Dright[a + k] == 0){
				if (Dleft[a] <= a + k) {
					q.push(make_pair('r', a + k));
					Dright[a + k] = Dleft[a] + 1;
				}
			}

		}
		else if (line == 'r') {
			if (a + 1 < n && Dright[a+1] == 0){
				if (Dright[a] <= a + 1) {
					q.push(make_pair('r', a + 1));
					Dright[a + 1] = Dright[a] + 1;
				}
			}
			if (a - 1 >= 0 && Dright[a - 1] == 0){
				if (Dright[a] <= a - 1) {
					q.push(make_pair('r', a - 1));
					Dright[a - 1] = Dright[a] + 1;
				}
			}
			if (a + k < n && Dleft[a + k] == 0 ){
				if (Dright[a] <= a + k) {
					q.push(make_pair('l', a + k));
					Dleft[a + k] = Dright[a] + 1;
				}
			}
		}
	}

	cout << ans << "\n";
	return 0;
}
```

</div>
</details>

1ì´ˆì— í•œì¤„ì”© ì‚¬ë¼ì§€ëŠ” ì¡°ê±´ì„ BFS íƒìƒ‰ whileë¬¸ ì•ˆì— ì§‘ì–´ë„£ìœ¼ë©´ ì•ˆëœë‹¤. [ì°¸ê³  Q&A](https://www.acmicpc.net/board/view/28373)  
ğŸ‘‰ ì´ ì¡°ê±´ êµ¬í˜„í•˜ëŠë¼ ì‹œê°„ì´ ë§¤ìš° ì˜¤ë˜ ê±¸ë ¸ë‹¤ğŸ˜­ğŸ˜­ğŸ˜­

&nbsp;
&nbsp;

---

&nbsp;
&nbsp;

### ğŸ¥šë³€ìˆ˜

- int N, k (1 â‰¤ N, k â‰¤ 100,000)
- int[2][n+1] line : line[0] = ì™¼ìª½ ì¤„ì˜ ì •ë³´, line[1] = ì˜¤ë¥¸ìª½ ì¤„ì˜ ì •ë³´

### ğŸ³í’€ì´ ì „ëµ 2020-12-11

- int dir = 0 (0 = ì™¼ìª½, 1 = ì˜¤ë¥¸ìª½)
- int pos = 1 (ìœ„ì¹˜)
- int time : xì´ˆê°€ ì§€ë‚˜ë©´ xë²ˆ ì¹¸ì´ ì—†ì–´ì§€ëŠ” ê²ƒì„ í‘œì‹œí•˜ê¸° ìœ„í•œ ë³€ìˆ˜

Queueë¥¼ ë§Œë“¤ì–´ ê²Œì„ ì§„í–‰

```
while(!Queue.isEmpty()) {

	// ê²Œì„ì´ ëë‚¬ëŠ”ì§€ í™•ì¸
	if(pos > N) ğŸ‘‰ 1 ì¶œë ¥


	// ê²Œì„ ì§„í–‰
	1. line[dir][pos+1] ë¡œ ì´ë™
	ğŸ‘‰ ì¡°ê±´ : line[dir][pos+1] == 1
	ğŸ‘‰ Queue.add(dir, pos+1, time+1)

	2. line[dir][pos-1] ë¡œ ì´ë™
	ğŸ‘‰ ì¡°ê±´ : pos-1 > time && line[dir][pos-1] == 1
	ğŸ‘‰ Queue.add(dir, pos-1, time+1)

	3. if(dir == 0) line[1][pos+k]
	   else lien[0][pos+k]ë¡œ ì´ë™
	ğŸ‘‰ Queue.add(ë³€ê²½ëœ dir, pos+k, time+1)
}

// ìœ„ 3ê°€ì§€ ì¤‘ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œë„ ì´ë™í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì´ë¯€ë¡œ 0 ì¶œë ¥
```

<details>
<summary>code</summary>
<div markdown="1">

```java
import java.io.*;
import java.util.*;

public class Main {

	public static class Player {
		int dir, pos, time;

		public Player(int dir, int pos, int time) {
			this.dir = dir;
			this.pos = pos;
			this.time = time;
		}
	}

	public static void main(String[] args) throws Exception {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine(), " ");

		int N = Integer.parseInt(st.nextToken());
		int k = Integer.parseInt(st.nextToken());
		String[] line = new String[2];

		for (int i = 0; i < 2; i++) {
			line[i] = br.readLine();
		}

		int dir = 0;
		int pos = 0;
		int time = 0;

		Queue<Player> q = new LinkedList<Player>();
		boolean[][] visit = new boolean[2][N];
		q.add(new Player(dir, pos, time));
		visit[dir][pos] = true;


		while(!q.isEmpty()) {
			Player now = q.poll();
			int nDir = 0;
			if(now.dir == 0)	nDir = 1;
			else 				nDir = 0;

			// ê²Œì„ì´ ëë‚¬ëŠ”ì§€ í™•ì¸
			if(now.pos+1 >= N || now.pos+k >= N) {
				System.out.println(1);
				return;
			}

			// ê²Œì„ ì§„í–‰
			if(line[now.dir].charAt(now.pos+1) == '1' && !visit[now.dir][now.pos+1]) {
				visit[now.dir][now.pos+1] = true;
				q.add(new Player(now.dir, now.pos+1, now.time+1));
			}

			if(now.pos-1 > now.time && line[now.dir].charAt(now.pos-1) == '1' && !visit[now.dir][now.pos-1]) {
				visit[now.dir][now.pos-1] = true;
				q.add(new Player(now.dir, now.pos-1, now.time+1));
			}

			if(line[nDir].charAt(now.pos+k) == '1' && !visit[nDir][now.pos+k]) {
				visit[nDir][now.pos+k] = true;
				q.add(new Player(nDir, now.pos+k, now.time+1));
			}
		}

		System.out.println(0);
	}

}

```

</div>
</details>

- íë¥¼ ì‚¬ìš©í•  ë•Œì—ëŠ” ë°©ë¬¸ì²˜ë¦¬ë¥¼ í•´ì£¼ì–´ ë©”ëª¨ë¦¬ê´€ë¦¬, ì‹œê°„ì´ˆê³¼ ê´€ë¦¬ë¥¼ í•´ì£¼ì...!
