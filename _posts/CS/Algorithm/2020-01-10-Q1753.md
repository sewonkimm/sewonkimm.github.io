---
layout: post
title: ë°±ì¤€ 1753:ìµœë‹¨ ê²½ë¡œ
date: 2020-01-10 11:50:00
author: "SeWonKim"
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜,  BOJ]
comments: true
description: Baekjoon 1753
---


> [Baekjoon 1753](https://www.acmicpc.net/problem/1753)

## Idea

Aì—ì„œ Bë¡œê°€ëŠ” ê²½ë¡œ ì¤‘, ê°€ì¤‘ì¹˜ì˜ í•©ì´ ìµœì†Œê°€ ë˜ëŠ” ê²½ë¡œ ì°¾ê¸° => `ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜`

### ğŸ¥šë³€ìˆ˜

- ì¸ì ‘ë¦¬ìŠ¤íŠ¸ ArrayList< ArrayList<Info> > list : ì¸ì ‘í–‰ë ¬ë¡œ êµ¬í˜„í•  ê²½ìš° ë©”ëª¨ë¦¬ ì´ˆê³¼
- class Info : ë„ì°©ì , ê°€ì¤‘ì¹˜ë¡œ êµ¬ì„±
- int[V+1] dis : ì‹œì‘ì ì—ì„œ ië…¸ë“œë¡œ ê°€ëŠ” ê²½ë¡œì˜ ê°€ì¤‘ì¹˜ì˜ í•©(ìµœì†Œ) 
- boolean[V+1] visit : ë°©ë¬¸ì²´í¬(ì´ë¯¸ ë°©ë¬¸í•œ ì •ì ì€ ë„˜ì–´ê°€ê¸°)
- PriorityQueue<Integer, Integer> pq : í˜„ì¬ ë…¸ë“œë²ˆí˜¸ì™€ ëˆ„ì í•© 
   
### ğŸ³í’€ì´ ì „ëµ

1. ì •ì  ì„ íƒ(ê°€ì¤‘ì¹˜ì˜ í•©ì´ **ìµœì†Œ**ê°€ ë˜ëŠ” ê³³ìœ¼ë¡œ) -> Heap ì‚¬ìš©ì‹œ íƒìƒ‰ì‹œê°„ì„ O(N)ì—ì„œ O(NlogN)ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
2. ì •ì ê³¼ ì—°ê²°ëœ ë‹¤ë¥¸ ì •ì ì˜ ê°€ì¤‘ì¹˜ì˜ í•© ê°±ì‹ 

&nbsp;  
&nbsp;

<details>
<summary>code - C++(ë©”ëª¨ë¦¬ ì´ˆê³¼)</summary>
<div markdown="1">

```cpp
#include <iostream>
#include <vector>
#include <queue>
 
using namespace std;

int main(int argc, char** argv) {
	// V: ì •ì ì˜ ê°¯ìˆ˜
	// E: ê°„ì„ ì˜ ê°¯ìˆ˜ 
	int V, E;
	scanf("%d %d", &V, &E);
	
	// K: ì‹œì‘ ì •ì  ë²ˆí˜¸ 
	int K;
	scanf("%d", &K);
	
	vector< vector<int> > list(V+1, vector<int> (V+1, 0));
	for(int i=0; i<E; i++){
		int start, end, w;
		scanf("%d %d %d", &start, &end, &w);
		list[start][end] = w;
	}
	
	vector<int> dist(V+1, 0); 
	vector<bool> check(V+1, false); 
	queue<int> q;
	q.push(K);
	while(!q.empty()){
		int now = q.front();
		check[now] = true;
		q.pop();
				
		for(int i=1; i<=V; i++){
			// ê°„ì„ ì´ ì¡´ì¬ & ì•„ì§ ë°©ë¬¸ ì•ˆí•œ ê³³ 
			if(list[now][i] != 0 && !check[i]){
				if(dist[i] == 0){
					dist[i] = dist[now] + list[now][i];
				}
				else if(dist[i] > dist[now] + list[now][i]){
					dist[i] = dist[now] + list[now][i];
				}
			}
		}
		
		// í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ì •ì  ì¤‘ ì œì¼ ì§§ì€ ê³³ì— ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™
		int mindist = 100000;
		int index = 0;
		for(int i=1; i<=V; i++){
			if(!check[i] && dist[i] != 0){
				if(dist[i] < mindist){
					mindist = dist[i];
					index = i;
				}
			}
		} 
		
		if(index != 0){
			q.push(index);
		}
	}
	
	for(int i=1; i<=V; i++){
		if(i==K){
			printf("0\n");
			continue;
		}
		
		if(dist[i] == 0){
			printf("INF\n");
		}
		else{
			printf("%d\n", dist[i]);
		}
	}
	
	return 0;
}
```
ì •ì ì˜ ê°¯ìˆ˜ ìµœëŒ€ 20,000ê°œì´ë‹¤. ì´ ë•Œ list[20001][20001] = ì•½ 4ì–µ byte = ì•½ 3,200 MB     
ë©”ëª¨ë¦¬ ì œí•œì´ 256 MBì´ê¸° ë•Œë¬¸ì— ë‹¹ì—°íˆ ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ì¼ì–´ë‚œë‹¤....

ì´ ë•Œ ì‹œê°„ ë³µì¡ë„ë„ O(N^2)ì´ê¸° ë•Œë¬¸ì— ê°œì„ í•´ì•¼ í•  ê²ƒ ê°™ë‹¤.


</div>
</details>

&nbsp;  
&nbsp;


<details>
<summary>code - C++(arr ê°œì„  / Heap ìë£Œêµ¬ì¡° ì‚¬ìš©)</summary>
<div markdown="1">

```cpp
// í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ì •ì  ì¤‘ ì œì¼ ì§§ì€ ê³³ì— ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™
		int mindist = 100000;
		int index = 0;
		for(int i=1; i<=V; i++){
			if(!check[i] && dist[i] != 0){
				if(dist[i] < mindist){
					mindist = dist[i];
					index = i;
				}
			}
		} 
```
ìš°ì„ ìˆœìœ„ í(Min heap)ë¥¼ ì‚¬ìš©í•˜ë©´ `ì²«ë²ˆì§¸ ì½”ë“œì—ì„œ ë‹¤ìŒ ì¥ì†Œë¡œ ì´ë™í•  ë•Œ`ì˜ ë¶€ë¶„ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.

```cpp
#include <iostream>
#include <vector>
#include <queue>
 
using namespace std;

int main(int argc, char** argv) {
	// V: ì •ì ì˜ ê°¯ìˆ˜
	// E: ê°„ì„ ì˜ ê°¯ìˆ˜ 
	int V, E;
	scanf("%d %d", &V, &E);
	
	// K: ì‹œì‘ ì •ì  ë²ˆí˜¸ 
	int K;
	scanf("%d", &K);
	
	vector< pair<int, int> > list[V+1];
	for(int i=0; i<E; i++){
		int start, end, w;
		scanf("%d %d %d", &start, &end, &w);
		list[start].push_back(make_pair(end, w));
	}
	
	vector<int> dist(V+1, 0); 
	
	// ìš°ì„ ìˆœìœ„ í (heap) : weight, ì‹œì‘ì  ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤. 
	priority_queue< pair<int,int>,vector<pair<int,int> >,greater<pair<int,int> > > pq;
	pq.push(make_pair(0, K));
	while(!pq.empty()){
		int now = pq.top().second;
		int weight = pq.top().first;
		pq.pop();
				 
		if(dist[now] != 0 && dist[now] < weight){
			continue;	
		}
		
		// ê°„ì„ ì´ ì¡´ì¬		
		for(int i=0; i<list[now].size(); i++){
			int next = list[now][i].first;
			int nw = list[now][i].second;
			
			if(dist[next] == 0){
				dist[next] = dist[now] + nw;
				pq.push(make_pair(dist[next], next));
			}	
			else if(dist[next] > dist[now] + nw){
				dist[next] = dist[now] + nw;
				pq.push(make_pair(dist[next], next));
			}
		}
	}
	
	for(int i=1; i<=V; i++){
		if(i==K){
			printf("0\n");
			continue;
		}
		
		if(dist[i] == 0){
			printf("INF\n");
		}
		else{
			printf("%d\n", dist[i]);
		}
	}
	
	return 0;
}
```

ì•„ë˜ ë¸”ë¡œê·¸ì—ì„œ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…ì„ ë³´ê³  ì™œ ìš°ì„ ìˆœìœ„ íë¥¼ ì¨ì•¼í•˜ëŠ”ì§€ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.

ì°¸ê³  ë¬¸ì„œ: [ì™œ ìš°ì„ ìˆœìœ„ íë¥¼ ì¨ì•¼í•˜ë‚˜?](https://wondy1128.tistory.com/95)

</div>
</details>

&nbsp;  
&nbsp;

<details>
<summary>code - JAVA</summary>
<div markdown="1">

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.*;

public class Main {

    private static class Info {
        int node;   // ë„ì°©ì •ì 
        int weight; // ê°€ì¤‘ì¹˜

        public Info(int node, int weight) {
            this.node = node;
            this.weight = weight;
        }
    }

    private static class Current implements Comparable<Current> {
        int node;
        int sum;    // í˜„ì¬ ë…¸ë“œê¹Œì§€ì˜ ê°€ì¤‘ì¹˜ì˜ í•©

        public Current(int node, int sum) {
            this.node = node;
            this.sum = sum;
        }

        @Override
        public int compareTo(Current o) {
            return o.sum - sum;
        }
    }

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        int V = Integer.parseInt(st.nextToken());    // ì •ì ê°œìˆ˜
        int E = Integer.parseInt(st.nextToken());    // ê°„ì„ ê°œìˆ˜
        int K = Integer.parseInt(br.readLine());    // ì‹œì‘ì •ì 
        ArrayList<ArrayList<Info>> list = new ArrayList<>();    // ì¸ì ‘ë¦¬ìŠ¤íŠ¸
        int[] dis = new int[V + 1];   // Kì—ì„œ ië…¸ë“œë¡œ ê°€ëŠ” ê²½ë¡œì˜ ê°€ì¤‘ì¹˜ì˜ í•©(ìµœì†Œ)
        boolean[] visit = new boolean[V + 1]; // ë°©ë¬¸ì²´í¬

        for (int i = 0; i <= V; i++) {
            list.add(new ArrayList<>());
        }

        // ì¸ì ‘ë¦¬ìŠ¤íŠ¸ ì…ë ¥ë°›ê¸°
        for (int i = 0; i < E; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int start = Integer.parseInt(st.nextToken());
            int end = Integer.parseInt(st.nextToken());
            int weight = Integer.parseInt(st.nextToken());
            list.get(start).add(new Info(end, weight));
        }

        // ì´ˆê¸°í™”
        Arrays.fill(dis, Integer.MAX_VALUE);
        dis[K] = 0;

        PriorityQueue<Current> pq = new PriorityQueue<>(Collections.reverseOrder());    // min heap
        pq.offer(new Current(K, 0));

        while (!pq.isEmpty()) {
            Current current = pq.poll();
            if (visit[current.node]) {
                continue;
            }
            visit[current.node] = true;

            // ì„ íƒëœ ì •ì ê³¼ ì—°ê²°ëœ ë‹¤ë¥¸ ì •ì  íƒìƒ‰
            for (int i = 0; i < list.get(current.node).size(); i++) {
                int node = list.get(current.node).get(i).node;
                int weigth = list.get(current.node).get(i).weight;

                // dis ê°’ ê°±ì‹ 
                if (dis[node] > current.sum + weigth) {
                    dis[node] = current.sum + weigth;
                    pq.offer(new Current(node, dis[node]));
                }
            }
        }

        // output
        for (int i = 1; i <= V; i++) {
            if (dis[i] == Integer.MAX_VALUE) {
                System.out.println("INF");
            } else {
                System.out.println(dis[i]);
            }
        }
    }
}
```

</div>
</details>

&nbsp;  
&nbsp;
## Review

ê°œì¸ì ìœ¼ë¡œ í•œ ë‘ì–´ë‹¬ ì „ì— ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ê´€ë ¨ ë¬¸ì œ í’€ë‹¤ê°€ ì ì‹œ ë’¤ë¡œ ë°€ì–´ë‘” ì ì´ ìˆë‹¤.     
ê·¸ë˜ì„œ ë„ì „í•˜ëŠ”ë° ì¢€ ê²ì´ ë‚¬ëŠ”ë° [ë™ì˜ìƒ](https://www.youtube.com/watch?v=tZu4x5825LI)ì„ ë³´ê³  ì´í•´í–ˆë‹¤.    
ë™ë¹ˆë‚˜ì”¨ê°€ ì„¤ëª…í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ë™ì˜ìƒë„ ê´œì°®ì•˜ì§€ë§Œ ê·¸ëƒ¥ ì›ë¦¬ë§Œ ì„¤ëª…í•´ì£¼ëŠ”ê²Œ ì´í•´ë¥¼ ë•ëŠ”ë°ì—ëŠ” ë” ì¢‹ì€ ê²ƒ ê°™ë‹¤.     
ì´í•´í•œ ê±¸ ë°”íƒ•ìœ¼ë¡œ êµ¬í˜„í–ˆì„ ë•Œ ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ëœ¨ê¸´ í–ˆì§€ë§Œ...^^;

ì´ë²ˆì£¼ ì›”ìš”ì¼ì— heapì— ëŒ€í•´ ë‹¤ì‹œ ë³µìŠµí•´ ë†“ì•„ì„œ ë‹¤í–‰ì´ë‹¤. ë” ë¹ ë¥´ê²Œ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.
