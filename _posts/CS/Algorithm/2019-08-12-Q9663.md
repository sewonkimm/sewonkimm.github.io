---
layout: post
title: ë°±ì¤€ 9663:N-Queen
date: 2019-08-12 10:02:00
author: "SeWonKim"
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, BOJ, Brute Force, Back Tracking, DFS]
comments: true
description: Baekjoon 9663
---

[Baekjoon 9663](https://www.acmicpc.net/problem/9663)

## Problem

í¬ê¸°ê°€ N Ã— Nì¸ ì²´ìŠ¤íŒ ìœ„ì— í€¸ Nê°œë¥¼ ì„œë¡œ ê³µê²©í•  ìˆ˜ ì—†ê²Œ ë†“ëŠ” ë¬¸ì œ

## Input

N (1 â‰¤ N < 15)

## Output

Nê°œë¥¼ ì„œë¡œ ê³µê²©í•  ìˆ˜ ì—†ê²Œ ë†“ëŠ” ê²½ìš°ì˜ ìˆ˜

---

## Idea

ê° í€¸ì€ ì—´ì— í•œ ê°œ ì”©ë§Œ ì˜¬ ìˆ˜ ìˆê³ , ì´ ë•Œ ì ê²€í•´ì•¼í•˜ëŠ” ê²½ìš°ì˜ ìˆ˜ëŠ” N x N ê°œì´ë‹¤.  
 ìµœì•…ì˜ ê²½ìš° Nì´ 15ì¼ ë•Œ 15 Ã— 15 ê°œ ì¤‘ì—ì„œ 15ê°œë¥¼ ê³ ë¥´ëŠ” ê²½ìš° C(255, 15) = 6.299219751 E+23 **ë„ˆë¬´ í¬ë‹¤!!!**  
 ğŸ‘‰ ë°±íŠ¸ë˜í‚¹ ì•Œê³ ë¦¬ì¦˜ ì ìš©

1. ê° ë…¸ë“œì˜ ìœ ë§ì„± ê²€ì‚¬
2. ìœ ë§í•˜ë‹¤ë©´ íƒìƒ‰ ì§€ì†, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ëŒì•„ê°€ì„œ íƒìƒ‰

ìœ ë§ì„± ê²€ì‚¬

1. ë‹¤ë¥¸ í€¸ì´ ê°™ì€ í–‰, ê°™ì€ ì—´ì— ìˆëŠ”ê°€?
2. í€¸ì´ ëŒ€ê°ì„  ë°©í–¥ì— ìˆëŠ”ê°€?

- í€¸ì„ ê°™ì€ í–‰, ê°™ì€ ì—´ì— 2ê°œì´ìƒ ë†“ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì ì„ ì´ìš©  
  cal(row) : rowí–‰ì— í€¸ì„ ì–´ë””ì— ë†“ì„ì§€ ê²°ì •í•˜ëŠ” í•¨ìˆ˜  
  ì´ í•¨ìˆ˜ëŠ” í€¸ì„ ì˜ëª»ëœ ê²½ìš°ì— ë†“ëŠ” ê²½ìš°ê°€ ì—†ë‹¤. 0~n-1ê¹Œì§€ í–‰ì— í€¸ì„ ë†“ê³ , rowí–‰ì˜ ì–´ë””ì— ë†“ì„ì§€ ê²°ì •í•œë‹¤.
- check(row, col) : í€¸ì„ ë†“ì„ ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ê²€ì‚¬  
  ìœ„, ì•„ë˜, ëŒ€ê°ì„  ë°©í–¥ìœ¼ë¡œ í€¸ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ê²€ì‚¬í•œë‹¤.
- check ë¶€ë¶„ì„ ë°°ì—´ì„ ì´ìš©í•˜ë©´ ì‹œê°„ì„ ë” ì¤„ì¼ ìˆ˜ ìˆë‹¤.

---

## Code

```cpp
#include<iostream>
using namespace std;

int n;
int a[15][15];

int check_col[15];
int check_dig[30];	// '/'ë°©í–¥ ì²´í¬
int check_dig2[30];	// '\'ë°©í–¥ ì²´í¬



bool check(int row, int col) {
	if (check_col[col]) {
		return false;
	}

	if (check_dig[row + col]) {
		return false;
	}

	if (check_dig2[row - col + n]) {
		return false;
	}

	return true;
}

int calc(int row) {

	//ì¬ê·€í•¨ìˆ˜ ì¢…ë£Œí•˜ëŠ” ì¡°ê±´
	if (row == n) {
		return 1;
	}

	int cnt = 0;

	for (int col = 0; col < n; col++) {
		if (check(row, col)) {

			a[row][col] = true;
			check_col[col] = true;
			check_dig[row+col] = true;
			check_dig2[row-col+n] = true;

			cnt += calc(row + 1);

			//ì›ìƒë³µêµ¬
			a[row][col] = false;
			check_col[col] = false;
			check_dig[row + col] = false;
			check_dig2[row - col + n] = false;
		}
	}

	return cnt;
}

int main() {

	cin >> n;
	cout << calc(0) << "\n";

	return 0;
}
```

## Review

ìœ„, ì˜¤ë¥¸ìª½ ëŒ€ê°ì„ , ì™¼ìª½ ëŒ€ê°ì„  check ë°°ì—´ì„ ìƒê°í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ë‹¤.
ìœ„ì•„ë˜, ëŒ€ê°ì„ ë°©í–¥ì— ê°ˆ ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ íŒë‹¨í•˜ëŠ” ë°©ë²•ì„ ìƒê°í•´ ë‚´ëŠ” ê²ƒì´ ì¤‘ìš”í•œ ë¬¸ì œì¸ ê²ƒ ê°™ë‹¤.
