---
layout: post
title: SW Expert Academy 2382:ë¯¸ìƒë¬¼ ê²©ë¦¬
date: 2020-12-03 13:52:00
author: 'SeWonKim'
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, SW Expert Academy]
comments: true
---

> [SW Expert Academy 2382](https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV597vbqAH0DFAVl#)

## Idea

### ğŸ¥šë³€ìˆ˜

- int N: êµ¬ì—­ì˜ ê°€ë¡œ, ì„¸ë¡œ ê¸¸ì´
- int M: ê²©ë¦¬ ì‹œê°„
- int K: ë¯¸ìƒë¬¼ êµ°ì§‘ ê°œìˆ˜
- int[5][2] dir: 4ë°©í–¥ íƒìƒ‰ì„ ìœ„í•œ delta { {0,0}, {-1,0}, {1,0}, {0,-1}, {0,1} } 

- Class Virus: ì„¸ë¡œ, ê°€ë¡œ, ë¯¸ìƒë¬¼ í´ë˜ìŠ¤, ë¯¸ìƒë¬¼ êµ°ì§‘ì˜ ìˆ˜ & ì´ë™ ë°©í–¥ ê¸°ë¡
- ArrayList<Virus> virus: í˜„ì¬ ì¡´ì¬í•˜ëŠ” ë¯¸ìƒë¬¼ ë°°ì—´
    

### ğŸ³í’€ì´ ì „ëµ

1. Kê°œ ë§Œí¼ ë¯¸ìƒë¬¼ êµ°ì§‘ ì •ë³´ ì…ë ¥ë°›ìŒ. (ì„¸ë¡œ, ê°€ë¡œ, ë¯¸ìƒë¬¼ì˜ ìˆ˜, ì´ë™ ë°©í–¥)
    - ì´ë™ë°©í–¥ 1: ìƒ, 2: í•˜, 3: ì¢Œ, 4: ìš°

2. for(m = 0~M-1) ë¯¸ìƒë¬¼ ì´ë™
    - ë¯¸ìƒë¬¼ì„ ë°”ë¡œ ì´ë™ì‹œí‚¤ë©´ ì•ˆë˜ê³ , **ê¸°ë¡**í•´ë’€ë‹¤ê°€ í•©ì³ì§€ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ì•¼í•œë‹¤.
    - Class Virus[N][N][4] note: [x][y] ìœ„ì¹˜ì— ëª¨ì¼ ìˆ˜ ìˆëŠ” 4ê°œì˜ ë¯¸ìƒë¬¼ êµ°ì§‘

```
for(k = 0~K) {
    // ì •ë³´
    int x = virus[k].x
    int y = virus[k].y
    int size = virus[k].size
    int d = virus[k].dir 

    // ì´ë™í•  ìœ„ì¹˜
    int nx = x + dir[d][0]
    int ny = y + dir[d][1]

    // ì•½í’ˆì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™ ğŸ‘‰ êµ°ì§‘ ìˆ˜ ì ˆë°˜, ì´ë™ë°©í–¥ ë°˜ëŒ€ë¡œ
    if(nx == 0 || ny == 0 || nx == N-1 || ny == N-1){ 
        note[nx][ny][0].size = size/2
        note[nx][ny][0].dir = d ë°˜ëŒ€ë°©í–¥(1ì´ë©´ 2ë¡œ, 2ë©´ 1ë¡œ, 3ì´ë©´ 4ë¡œ, 4ë©´ 3ìœ¼ë¡œ)
    }

    // ì•½í’ˆì´ ì•„ë‹Œ ê³³ ğŸ‘‰ êµ°ì§‘ ìˆ˜, ì´ë™ë°©í–¥ ê·¸ëŒ€ë¡œ
    for(i = 0~3){
        if(note[nx][ny] = Virusê°€ ê¸°ë¡ë˜ì–´ìˆì§€ ì•Šì€ ê²½ìš°) {
            note[nx][ny][i].size = size
            note[nx][ny][i].dir = d
            break
        }
     }

}

// ëª¨ë‘ ê¸°ë¡í•˜ê³  ë‚œ ë‹¤ìŒ virus ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
for(i = 0~N-1){
    for(j = 0~N-1){
        note[i][j] 
        ğŸ‘‰ if ë¯¸ìƒë¬¼ì´ í•œê°œë§Œ ìˆì„ ë•Œ ğŸ‘‰ virusì— ì¶”ê°€
        ğŸ‘‰ else ë¯¸ìƒë¬¼ ìˆ˜ì˜ í•©, ë¯¸ìƒë¬¼ ìˆ˜ê°€ ê°€ì¥ ë§ì€ êµ°ì§‘ì˜ ì´ë™ë°©í–¥ì„ virusì— ì¶”ê°€
    }
}
```

3. ë‚¨ì•„ìˆëŠ” ë¯¸ìƒë¬¼ ìˆ˜ ì´ í•© ì¶œë ¥

&nbsp;  
&nbsp;

<details>
<summary>code - ì‹œê°„ì´ˆê³¼ ì‹¤íŒ¨</summary>
<div markdown="1">

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class Solution {

	public static class Virus {
		int x;
		int y;
		int size;
		int dir;
		
		public Virus() {}
		public Virus(int x, int y, int size, int dir) {
			this.x = x;
			this.y = y;
			this.size = size;
			this.dir = dir;
		}
	}
	
	static int N;
	static int[][] dir = { {0,0}, {-1,0}, {1,0}, {0,-1}, {0,1} };
	public static void main(String[] args) throws Exception {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		int T = Integer.parseInt(br.readLine());
		for (int TC = 1; TC <= T; TC++) {
			StringTokenizer st = new StringTokenizer(br.readLine(), " ");
			N = Integer.parseInt(st.nextToken());
			int M = Integer.parseInt(st.nextToken());
			int K = Integer.parseInt(st.nextToken());
			
			ArrayList<Virus> virus = new ArrayList<Virus>();
			for (int i = 0; i < K; i++) {
				st = new StringTokenizer(br.readLine(), " ");
				Virus v = new Virus();
				v.x = Integer.parseInt(st.nextToken());
				v.y = Integer.parseInt(st.nextToken());
				v.size = Integer.parseInt(st.nextToken());
				v.dir = Integer.parseInt(st.nextToken());
				virus.add(v);
			}
			
			// ë¯¸ìƒë¬¼ ì´ë™
			for (int time = 0; time < M; time++) {
				Virus[][][] note = new Virus[N][N][4];
				
				move(note, virus);
				
				// virus ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
				virus.clear();
				writeVirus(note, virus);
			}
			
			System.out.println("#"+TC+" "+ getVirus(virus));
		}
	}
	
	private static int getVirus(ArrayList<Virus> virus) {
		int count = 0;
		for (int i = 0; i < virus.size(); i++) {
			count += virus.get(i).size;
		}
		return count;
	}

	private static void writeVirus(Virus[][][] note, ArrayList<Virus> virus) {
		for (int i = 0; i < N; i++) {
			for (int j = 0; j < N; j++) {
				
				if(virusNum(note[i][j]) == 1 && note[i][j][0].size > 0) {
					virus.add(note[i][j][0]);
				}
				else if(virusNum(note[i][j]) > 1) {
					int sum = note[i][j][0].size;
					int max = note[i][j][0].size;
					int newDir = note[i][j][0].dir;
					
					for (int l = 1; l < 4; l++) {
						if(note[i][j][l] == null)	break;
						
						sum += note[i][j][l].size;
						if(note[i][j][l].size > max) {
							newDir = note[i][j][l].dir;
							max = note[i][j][l].size;
						}
					}
					virus.add(new Virus(i, j, sum, newDir));
				} 
			} // end for j
		} // end for i
	}

	private static void move(Virus[][][] note, ArrayList<Virus> virus) {
		for (int i = 0; i < virus.size(); i++) {
			int x = virus.get(i).x;
			int y = virus.get(i).y;
			int size = virus.get(i).size;
			int d = virus.get(i).dir;
			
			int nx = x + dir[d][0];
			int ny = y + dir[d][1];
			
			// ì•½í’ˆì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™
			if(nx == 0 || ny == 0 || nx == N-1 || ny == N-1) {
				note[nx][ny][0] = new Virus(nx, ny, size/2, getDirection(d));
				continue;
			}
			
			// ì•½í’ˆì´ ì•„ë‹Œ ê³³
			for (int k = 0; k < 4; k++) {
				if(note[nx][ny][k] == null) {
					note[nx][ny][k] = new Virus(nx, ny, size, d);
					break;
				}
			}
		}
	}
	
	private static int virusNum(Virus[] virus) {
		int count = 0;
		for (int i = 0; i < 4; i++) {
			if(virus[i] == null)	break;
			else count++;
		}
		return count;
	}
	private static int getDirection(int d) {
		if(d == 1)		return 2;
		else if(d == 2)	return 1;
		else if(d == 3) return 4;
		else 			return 3;
	}

}
```

</div>
</details>

### ì‹¤íŒ¨ì›ì¸?

1. virus ì •ë³´ë¥¼ ì €ì¥í•œ ê²ƒì„ ArrayList, Queue, Array 3ê°€ì§€ë¡œ êµ¬í˜„í•´ë³´ì•˜ëŠ”ë° ë‹¤ ì‹œê°„ ì´ˆê³¼ ğŸ‘‰ ì´ê±´ ì›ì¸ì´ ì•„ë‹ˆë‹¤...
2. ë¯¸ìƒë¬¼ ì´ë™í•  ë•Œ, ë§¤ ì‹œê°„ë§ˆë‹¤ note ë°°ì—´ì„ ìƒì„±í•´ì£¼ì—ˆëŠ”ë° ì´ ë¶€ë¶„ ë¡œì§ì„ ìˆ˜ì •í•´ì¤¬ë”ë‹ˆ í†µê³¼!
```java
for (int time = 0; time < M; time++) {
	Virus[][][] note = new Virus[N][N][4];
				
	move(note, virus);
				
	// virus ë¦¬ìŠ¤íŠ¸ ê°±ì‹ 
	virus.clear();
	writeVirus(note, virus);
}
```


<details>
<summary>code - í†µê³¼</summary>
<div markdown="1">

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

public class Solution {

	public static class Virus {
		int x;
		int y;
		int size;
		int dir;

		public Virus() {
		}

		public Virus(int x, int y, int size, int dir) {
			this.x = x;
			this.y = y;
			this.size = size;
			this.dir = dir;
		}
	}

	static int N;
	static int[][] dir = { { 0, 0 }, { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };

	public static void main(String[] args) throws Exception {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		int T = Integer.parseInt(br.readLine());
		for (int TC = 1; TC <= T; TC++) {
			StringTokenizer st = new StringTokenizer(br.readLine(), " ");
			N = Integer.parseInt(st.nextToken());
			int M = Integer.parseInt(st.nextToken());
			int K = Integer.parseInt(st.nextToken());

			Queue<Virus> virus = new LinkedList<Virus>();
			for (int i = 0; i < K; i++) {
				st = new StringTokenizer(br.readLine(), " ");
				Virus v = new Virus();
				v.x = Integer.parseInt(st.nextToken());
				v.y = Integer.parseInt(st.nextToken());
				v.size = Integer.parseInt(st.nextToken());
				v.dir = Integer.parseInt(st.nextToken());
				virus.add(v);
			}

			// ë¯¸ìƒë¬¼ ì´ë™
			Virus[][][] note = new Virus[N][N][4];
			for (int time = 0; time < M; time++) {

				for (int i = 0; i < N; i++) {
                    for (int j = 0; j < N; j++) {

                        for (int l = 0; l < 4; l++) {
                            if(note[i][j][l] != null) note[i][j][l]=null;

                        }

                    } // end for j
                } // end for i
				
				move(note, virus);
				writeVirus(note, virus);
			}

			System.out.println("#" + TC + " " + getVirus(virus));
		}
	}

	// ì „ì²´ ë¯¸ìƒë¬¼ì˜ ìˆ˜ êµ¬í•˜ê¸°
	private static int getVirus(Queue<Virus> virus) {
		int count = 0;
		while(!virus.isEmpty()) {
			count += virus.poll().size;
		}
		return count;
	}

	// array list ê°±ì‹ 
	private static void writeVirus(Virus[][][] note, Queue<Virus> virus) {
		for (int i = 0; i < N; i++) {
			for (int j = 0; j < N; j++) {

				if (virusNum(note[i][j]) == 1 && note[i][j][0].size > 0) {
					virus.add(note[i][j][0]);
				} 
				else if (virusNum(note[i][j]) > 1) {
					int sum = note[i][j][0].size;
					int max = note[i][j][0].size;
					int newX = note[i][j][0].x;
					int newY = note[i][j][0].y;
					int newDir = note[i][j][0].dir;

					for (int l = 1; l < 4; l++) {
						if (note[i][j][l] == null)	break;

						if (note[i][j][l].size > max) {
							newX = note[i][j][l].x;
							newY = note[i][j][l].y;
							newDir = note[i][j][l].dir;
							max = note[i][j][l].size;
						}
						sum += note[i][j][l].size;
					}
					virus.add(new Virus(newX, newY, sum, newDir));
				}
			} // end for j
		} // end for i
	}

	// í•œ ì¹¸ì— ë¯¸ìƒë¬¼ì´ ì–¼ë§ˆë‚˜ ìˆëŠ”ì§€ ë°˜í™˜
	private static int virusNum(Virus[] virus) {
		int count = 0;
		for (int i = 0; i < 4; i++) {
			if (virus[i] == null)	break;
			else					count++;
		}
		return count;
	}

	// ë¯¸ìƒë¬¼ ì´ë™ noteì— ê¸°ë¡
	private static void move(Virus[][][] note, Queue<Virus> virus) {
		while (!virus.isEmpty()) {
			Virus now = virus.poll();
			int nx = now.x + dir[now.dir][0];
			int ny = now.y + dir[now.dir][1];

			// ì•½í’ˆì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™
			if (nx == 0 || ny == 0 || nx == N - 1 || ny == N - 1) {
				note[nx][ny][0] = new Virus(nx, ny, now.size / 2, getDirection(now.dir));
			}
			else {
				// ì•½í’ˆì´ ì•„ë‹Œ ê³³
				for (int k = 0; k < 4; k++) {
					if (note[nx][ny][k] == null) {
						note[nx][ny][k] = new Virus(nx, ny, now.size, now.dir);
						break;
					}
				}
			}
		} // end while
	}

	// ë°˜ëŒ€ë°©í–¥ìœ¼ë¡œ ì´ë™ì‹œí‚´
	private static int getDirection(int d) {
		if (d == 1)
			return 2;
		else if (d == 2)
			return 1;
		else if (d == 3)
			return 4;
		else
			return 3;
	}

}

```

</div>
</details>

&nbsp;  
&nbsp;

## Review

- ë°°ì—´ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì´ ìƒê°ë³´ë‹¤ ì‹œê°„ì„ ë§ì´ ì¡ì•„ë¨¹ëŠ”ë‹¤. ìœ„ì¹˜ ì¡°ì‹¬!

### ê°œì„ ì 

- 2ì°¨ì› ë°°ì—´ì„ linearí•˜ê²Œ ì¹¸ ë²ˆí˜¸ë¡œ ë§Œë“¤ì–´ì„œ ì‘ì—…ì„ ê¹”ë”í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤...!
- (x, y)ë¡œ ì¹¸ë²ˆí˜¸ ë§Œë“¤ê¸° & ì¹¸ë²ˆí˜¸ë¡œ (x, y) ë§Œë“¤ê¸°


&nbsp;  
&nbsp;
