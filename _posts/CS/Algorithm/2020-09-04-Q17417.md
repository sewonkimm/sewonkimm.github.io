---
layout: post
title: ë°±ì¤€ 17417:ê²Œë¦¬ë§¨ë”ë§
date: 2020-09-04 09:21:00
author: "SeWonKim"
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜,  BOJ]
comments: true
description: Baekjoon 17417
---

> > [Baekjoon 17417](https://www.acmicpc.net/problem/17417)

â­ ì—¬ëŸ¬ë²ˆ ë°˜ë³µí•´ì„œ ìˆ™ì§€í•´ë†“ì„ í•„ìš”ê°€ ìˆëŠ” ëŒ€í‘œì ì¸ ìœ í˜• â­

## Idea

1. ë„ì‹œë¥¼ 2ê°œì˜ ì„ ê±°êµ¬ë¡œ ë‚˜ëˆˆë‹¤ => `ë¶€ë¶„ì§‘í•©`
2. ìœ íš¨í•œì§€ ìœ íš¨í•œì§€ ì•Šì€ì§€(ì—°ê²°ì´ ë˜ì–´ìˆëŠ”ì§€) ì²´í¬
3. ìœ íš¨í•œ ê²½ìš° ì¸êµ¬ì°¨ì´ì˜ ìµœì†Ÿê°’ êµ¬í•˜ê¸°
4. ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš° -1 ì¶œë ¥

---

## Code

```java
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.Queue;
import java.util.Scanner;

public class Q17471 {

	static int N, answer;
	static int[] population;
	static ArrayList<ArrayList<Integer>> list;		// ì¸ì ‘ë¦¬ìŠ¤íŠ¸
	static boolean[] selected;	// ë¶€ë¶„ì§‘í•©
	static boolean[] visited;	// ì—°ê²°ë˜ì–´ìˆëŠ”ì§€ ê³„ì‚°ì„ ìœ„í•œ ë°°ì—´
	public static void main(String[] args) {
		// input
		Scanner sc = new Scanner(System.in);
		N = sc.nextInt();	// êµ¬ì—­ì˜ ê°œìˆ˜
		population = new int[N+1];	// ê° êµ¬ì—­ì˜ ì¸êµ¬ìˆ˜
		for(int i=1; i<=N; i++) {
			population[i] = sc.nextInt();
		}
		list = new ArrayList<ArrayList<Integer>>();	// ì¸ì ‘ë¦¬ìŠ¤íŠ¸
		for(int i=1; i<=N; i++) {
			ArrayList<Integer> tmpList = new ArrayList<Integer>();
			int k = sc.nextInt();	// kë²ˆ ì…ë ¥ë°›ìŒ
			for(int j=0; j<k; j++) {
				tmpList.add(sc.nextInt());
			}
			list.add(tmpList);
		}
		answer = Integer.MAX_VALUE;		// ë‘ ì„ ê±°êµ¬ì˜ ì¸êµ¬ ì°¨ì´ì˜ ìµœì†Ÿê°’

		// 2ê°œì˜ ì„ ê±°êµ¬ ë‚˜ëˆ„ê¸°
		selected = new boolean[N+1];
		getSubset(1);

		// output
		if(answer == Integer.MAX_VALUE)	answer = -1;	// ë‘ ì„ ê±°êµ¬ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ê²½ìš°
		System.out.println(answer);
		sc.close();
	}

	// method: ë¶€ë¶„ì§‘í•© êµ¬í•˜ê¸°
	private static void getSubset(int cur) {

		// ê¸°ì €ì¡°ê±´
		if(cur == N) {
			// Aêµ¬ì—­ê³¼ Bêµ¬ì—­ìœ¼ë¡œ ë‚˜ëˆ„ê¸°
			ArrayList<Integer> areaA = new ArrayList<Integer>();
			ArrayList<Integer> areaB = new ArrayList<Integer>();
			for(int i=1; i<=N; i++) {
				if(selected[i])	areaA.add(i);
				else areaB.add(i);
			}

			visited = new boolean[N+1];
			if(!areaA.isEmpty() && !areaB.isEmpty() && isConnected(areaA) && isConnected(areaB)) {		// ê° ì„ ê±°êµ¬ì˜ ëª¨ë“  êµ¬ì—­ì´ ì—°ê²°ë˜ì–´ìˆëŠ”ì§€ í™•ì¸
				getDiff(areaA, areaB);		// ì„ ê±°êµ¬ì˜ ì¸êµ¬ìˆ˜ ì°¨ì´ êµ¬í•˜ê¸°
			}
			return;
		}

		// ìœ ë„ ì¡°ê±´
		selected[cur] = true;
		getSubset(cur+1);
		selected[cur] = false;
		getSubset(cur+1);
	}

	// ì„ ê±°êµ¬ì˜ ì¸êµ¬ìˆ˜ ì°¨ì´ êµ¬í•˜ê¸°
	private static void getDiff(ArrayList<Integer> areaA, ArrayList<Integer> areaB) {

		int popA=0, popB=0;

		for(int a : areaA) {
			popA += population[a];
		}
		for(int b : areaB) {
			popB += population[b];
		}

		// answer ì—…ë°ì´íŠ¸
		answer = Math.min(answer, Math.abs(popA-popB));

	}

	// ê° ì„ ê±°êµ¬ì˜ ëª¨ë“  êµ¬ì—­ì´ ì—°ê²°ë˜ì–´ìˆëŠ”ì§€ í™•ì¸
	private static boolean isConnected(ArrayList<Integer> area) {

		int cnt = 0;
		Queue<Integer> q = new LinkedList<Integer>();
		q.offer(area.get(0));
		visited[area.get(0)] = true;
		cnt++;

		while(!q.isEmpty()) {
			int now = q.poll();

			for(int i=0; i<list.get(now-1).size(); i++) {		// nowì— ì—°ê²°ëœ ì •ì  íƒìƒ‰

				int next = list.get(now-1).get(i);
				if(!visited[next] && area.contains(next)) {
					q.offer(next);
					visited[next] = true;
					cnt++;
				}
			}
		}

		if(cnt == area.size())	return true;
		return false;
	}
}

```

---

## Review

ë¶€ë¶„ì§‘í•© êµ¬í˜„í•˜ëŠ” ê²ƒ ë³µìŠµí•  ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ë‹¤.  
ë¶€ë¶„ì§‘í•©ì„ êµ¬í•˜ëŠ” ê²ƒì—ì„œ ëì´ì•„ë‹ˆë¼ ê±°ê¸°ì„œ í•œ ë²ˆ ë” ê³„ì‚°ì„ í•´ì•¼í•˜ëŠ” ë¬¸ì œë¼ ì¡°ê¸ˆ ê·€ì°®ì€ ë¬¸ì œ...ğŸ¥±  
íŠ¹íˆ ì„ ê±°êµ¬ì˜ êµ¬ì—­ì„ ëª¨ë‘ ì—°ê²°í•  ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨í•˜ëŠ” ë¶€ë¶„ì„ êµ¬í˜„í•˜ëŠ” ê²Œ ê¹Œë‹¤ë¡œì› ë‹¤.
