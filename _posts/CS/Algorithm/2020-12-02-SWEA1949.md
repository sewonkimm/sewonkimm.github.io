---
layout: post
title: SW Expert Academy 1949:ë“±ì‚°ë¡œ ì¡°ì„±
date: 2020-12-02 10:42:00
author: 'SeWonKim'
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, SW Expert Academy, DFS]
comments: true
---

> [SW Expert Academy 1949](https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV5PoOKKAPIDFAUq&categoryId=AV5PoOKKAPIDFAUq&categoryType=CODE)

## Idea

### ğŸ¥šë³€ìˆ˜

- int T: test case
- int N: ë¶€ì§€ì˜ í¬ê¸° (3~8)
- int[N][N] map: ì§€ë„, ê° ìš”ì†ŒëŠ” ì§€í˜•ì˜ ë†’ì´
- int K: ìµœëŒ€ ê³µì‚¬ ê°€ëŠ¥ ê¹Šì´ (1~5)
- int answer: ê°€ì¥ ê¸´ ë“±ì‚°ë¡œ ê¸¸ì´

- ArrayList<Point> start: ë“±ì‚°ë¡œ ì¡°ì„±ì„ ì‹œì‘í•  ì§€ì 
- int[4][2] dir: 4ë°©í–¥ íƒìƒ‰ì„ ìœ„í•œ delta { {-1,0}, {1,0}, {0,-1}, {0,1} } 

### ğŸ³í’€ì´ ì „ëµ

1. N*N 2ì¤‘ forë¬¸ì„ ëŒë©´ì„œ ê°€ì¥ ë†’ì€ ë´‰ìš°ë¦¬ ìœ„ì¹˜ë¥¼ array listì— ì €ì¥
2. for( array list )
    - ì‹œì‘ì§€ì ì—ì„œ DFS(int x, int y, int count, boolean visit, boolean flag) ì‹œì‘
    - (x, y)ëŠ” í˜„ì¬ ìœ„ì¹˜, visitëŠ” ë°©ë¬¸í•œ ê³³ ì¤‘ë³µí•´ì„œ ê°€ì§€ ì•Šë„ë¡ ì²´í¬, flagëŠ” ê³µì‚¬ ì—¬ë¶€(1ë²ˆë§Œ ê°€ëŠ¥í•˜ë¯€ë¡œ)
    - 4ë°©í–¥ íƒìƒ‰ (0~N ë²”ìœ„ì´ê³ , ë°©ë¬¸í•˜ì§€ ì•Šì€ ê³³)
    - í˜„ì¬ë³´ë‹¤ ë†’ì€ ì§€í˜• & flagê°€ falseì´ë©´ ğŸ‘‰ ê³µì‚¬í•´ì„œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸ í›„ ì¬ê·€
    - í˜„ì¬ë³´ë‹¤ ë‚®ì€ ì§€í˜• ğŸ‘‰ ì¬ê·€
    - ë”ì´ìƒ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ê³³ì´ ì—†ëŠ” ê²½ìš°, ê·¸ë•Œì˜ countì™€ answerë¥¼ ë¹„êµí•´ ìµœëŒ“ê°’ìœ¼ë¡œ ê°±ì‹  í›„return 



&nbsp;  
&nbsp;

<details>
<summary>code</summary>
<div markdown="1">

```java
import java.awt.Point;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class Solution {

	static int N, K, answer;
	static int[][] map;
	static int[][] dir = { {-1,0}, {1,0}, {0,-1}, {0,1} };
	public static void main(String[] args) throws Exception {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = null;
		int T = Integer.parseInt(br.readLine());
		for (int TC = 1; TC <=T; TC++) {
			answer = Integer.MIN_VALUE;
			
			st = new StringTokenizer(br.readLine(), " ");
			N = Integer.parseInt(st.nextToken());
			K = Integer.parseInt(st.nextToken());
			map = new int[N][N];
			int maxHeight = Integer.MIN_VALUE;
			for (int i = 0; i < N; i++) {
				st = new StringTokenizer(br.readLine(), " ");
				for (int j = 0; j < N; j++) {
					map[i][j] = Integer.parseInt(st.nextToken());
					maxHeight = Math.max(maxHeight, map[i][j]);
				}
			}
			
			// ê°€ì¥ ë†’ì€ ë´‰ìš°ë¦¬ ArrayListì— ì €ì¥
			ArrayList<Point> start = new ArrayList<Point>();
			for (int i = 0; i < N; i++) {
				for (int j = 0; j < N; j++) {
					if(map[i][j] == maxHeight) start.add(new Point(i, j));
				}
			}
			
			// ë“±ì‚°ë¡œ ì¡°ì„±
			for (int i = 0; i < start.size(); i++) {
				int x = start.get(i).x;
				int y = start.get(i).y;
				boolean[][] visit = new boolean[N][N];
				visit[x][y] = true;
				DFS(x, y, 1, visit, false);
				visit[x][y] = false;
			}
			
			System.out.println("#" + TC + " " + answer);
		}
	}

	private static void DFS(int x, int y, int count, boolean[][] visit, boolean flag) {
		for (int k = 0; k < 4; k++) {
			int nx = x + dir[k][0];
			int ny = y + dir[k][1];
			
			if(nx >= 0 && nx < N && ny >= 0 && ny < N && !visit[nx][ny]) {
				if(map[nx][ny] < map[x][y]) {
					visit[nx][ny] = true;
					DFS(nx, ny, count+1, visit, flag);
					visit[nx][ny] = false;
				}
				else {
					if(!flag && cal(map[x][y], map[nx][ny], K) != -1) {
						visit[nx][ny] = true;
						int tmp = map[nx][ny];
						map[nx][ny] = cal(map[x][y], map[nx][ny], K);
						
						DFS(nx, ny, count+1, visit, true);
						
						map[nx][ny] = tmp;
						visit[nx][ny] = false;
					}
				}
			}
		}
		answer = Math.max(answer, count);
	}
	
	private static int cal(int now, int next, int k) {
		for (int i = 1; i <= k; i++) {
			if(now > next-i)	return next-i;
		}
		return -1;
	}

}

```

</div>
</details>

&nbsp;  
&nbsp;

## Review

ë‹¤ìŒ ë“¤ì–´ê°ˆ ê³³ì„ ê³„ì‚°í•´ì•¼í•˜ê³ , K ë§Œí¼ ê³µì‚¬í•˜ê³ ... ê·¸ëŸ° ì¡°ê±´ë“¤ì´ ì¡°ê¸ˆ ë§‰ë§‰í–ˆëŠ”ë° ì°¬ì°¬íˆ ì½ì–´ë³´ë©´ì„œ ì¡°ê±´ í•˜ë‚˜í•˜ë‚˜ë¥¼ ì–´ë–»ê²Œ ì½”ë“œë¡œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œ ìƒê°í•´ë³´ë‹ˆ í•œ ë²ˆì— í†µê³¼!

&nbsp;  
&nbsp;
