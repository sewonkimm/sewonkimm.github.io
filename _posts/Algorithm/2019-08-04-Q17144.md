---
layout: post
title: ë°±ì¤€ 17144:ë¯¸ì„¸ë¨¼ì§€ ì•ˆë…•!
date: 2019-08-04 11:54:00
author: "SeWonKim"
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, Baekjoon, Samsung, simulation]
fullview: false
comments: true
description: Baekjoon 17144
---

[Baekjoon 17144](https://www.acmicpc.net/problem/17144)

## Problem

í¬ê¸°ê°€ (r\*c)ì¸ ì§‘  
 (r,c)ëŠ” ë¯¸ì„¸ë¨¼ì§€ì˜ ì–‘ì„ ì˜ë¯¸í•˜ë©° -1ì€ ê³µê¸°ì²­ì •ê¸°ë¥¼ ì˜ë¯¸

1. ë¯¸ì„¸ë¨¼ì§€ì˜ í™•ì‚°  
   ì¸ì ‘í•œ ë„¤ ë°©ìœ¼ë¡œ í™•ì‚°  
   í™•ì‚°ë˜ëŠ” ì–‘ì€ A(r,c)/5  
   ë‚¨ì€ ë¯¸ì„¸ë¨¼ì§€ì˜ ì–‘ì€ A(r,c) - { A(r,c)/5 \* í™•ì‚°ëœ ë°©í–¥ ê°¯ìˆ˜ }

2. ê³µê¸°ì²­ì •ê¸° ì‘ë™  
   ìœ„ìª½ ê³µê¸°ì²­ì •ê¸° ë°”ëŒì€ ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ìˆœí™˜í•˜ê³ , ì•„ë˜ìª½ì€ ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ìˆœí™˜  
   ë¯¸ì„¸ë¨¼ì§€ëŠ” ë°”ëŒì˜ ë°©í–¥ëŒ€ë¡œ í•œ ì¹¸ì”© ì´ë™

## Input

1. r, c, t (6 â‰¤ R, C â‰¤ 50, 1 â‰¤ T â‰¤ 1,000)
2. A(r,c) (-1 â‰¤ Ar,c â‰¤ 1,000)

## Output

tì´ˆê°€ ì§€ë‚œ í›„ ì§‘ì— ë‚¨ì•„ìˆëŠ” ë¯¸ì„¸ë¨¼ì§€ì˜ ì–‘

&nbsp;  
&nbsp;

---

&nbsp;  
&nbsp;

## Idea

### ë³€ìˆ˜ 
- int R: ë°© ì„¸ë¡œ ê¸¸ì´ 
- int C: ë°© ê°€ë¡œ ê¸¸ì´ (50 by 50ì´ ìµœëŒ€)
- int T: ê³µê¸°ì²­ì •ê¸° ê°€ë™ ì‹œê°„
- int[R][C] room: ë°©ì˜ ì •ë³´ ( -1: ê³µê¸°ì²­ì •ê¸°, ë‚˜ë¨¸ì§€ê°’ì€ ë¯¸ì„¸ë¨¸ì§€ì˜ ì–‘ )
- int[4][2] dir: 4ë°©í–¥ ì´ë™ì„ ìœ„í•œ delta ë°°ì—´ { {-1,0}, {1,0}, {0,-1}, {0,1} }
- int count: ë¯¸ì„¸ë¨¼ì§€ê°€ í™•ì‚°ëœ íšŸìˆ˜
- int[2] cleaner: ê³µê¸°ì²­ì •ê¸° ìœ—ë¶€ë¶„[0]ê³¼ ì•„ë«ë¶€ë¶„[1] rì¢Œí‘œ (ê³µê¸°ì²­ì •ê¸°ëŠ” í•­ìƒ 1ë²ˆ ì—´ì— ì„¤ì¹˜ë˜ë¯€ë¡œ r ì¢Œí‘œë§Œ ì•Œë©´ ëœë‹¤)

### ê³„ì‚°
1. room ì •ë³´ ì…ë ¥ë°›ì„ ë•Œ -1ì¸ê²½ìš° cleanerì— ìœ„ì¹˜ ì €ì¥
2. for(t = 0 ~ T-1) Tì´ˆë™ì•ˆ ê³„ì‚°
3. ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°
4. ê³µê¸°ì²­ì •ê¸° ê°€ë™
5. ì§‘ì— ë‚¨ì•„ìˆëŠ” ë¯¸ì„¸ë¨¼ì§€ì˜ ì–‘ êµ¬í•˜ê¸°

&nbsp;

`ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°`
1. for(i = 0 ~ R)
2. for(j = 0 ~ C) 2ì¤‘ forë¬¸
3. room[i][j] ê°’ì´ 0ì´ìƒì¼ ë•Œ, BFS ğŸ‘‰ í•´ë‹¹ ì¢Œí‘œë¥¼ íì— ì¶”ê°€
4. íê°€ isEmpty() = true ì¼ ë•Œê¹Œì§€ whileë¬¸ ë°˜ë³µ
5. íì—ì„œ í•˜ë‚˜ poll í•´ì„œ 4ë°©í–¥ íƒìƒ‰(dir ì´ìš©)
6. R, C ë²”ìœ„ ë‚´ì— ìˆê³ , ì´ë™í•  ì¹¸ì´ -1ì´ ì•„ë‹ˆë©´ ê·¸ ë°©í–¥ìœ¼ë¡œ (room/5) ë§Œí¼ í™•ì‚°í•˜ê³  í™•ì‚°ëœ ê°¯ìˆ˜ count++
7. forë¬¸ì´ ëë‚˜ë©´ í™•ì‚°ëœ ê°¯ìˆ˜ ë§Œí¼ í•´ë‹¹ ìœ„ì¹˜ ë¯¸ì„¸ë¨¼ì§€ ì–‘ ì¬ì¡°ì •

&nbsp;

`ê³µê¸°ì²­ì •ê¸° ê°€ë™`
1. ìœ„ìª½ - ë°˜ì‹œê³„ ë°©í–¥ ìˆœí™˜       
2. ì•„ë˜ìª½ - ì‹œê³„ ë°©í–¥ ìˆœí™˜

&nbsp;  
&nbsp;

<details>
    <summary>code - C++ (20190804)</summary>
    <div markdown="1">

    ```cpp
		#include <iostream>
		#include <vector>
		#include <queue>
		using namespace std;

		int dx[4] = { -1, 1, 0, 0 };
		int dy[4] = { 0, 0, -1, 1 };

		int main() {

			int r, c, t;
			cin >> r >> c >> t;

			vector<vector<int> > a(r+1, vector<int>(c+1, 0));
			for (int i = 0; i < r; i++) {
				for (int j = 0; j < c; j++) {
					cin >> a[i][j];
				}
			}

			while (t--) {

				queue<int> q;

				//ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°
				//1. íì— ë„£ê¸°
				for (int i = 0; i < r; i++) {
					for (int j = 0; j < c; j++) {

						if (a[i][j] > 0) {
							q.push(i);
							q.push(j);
							q.push(a[i][j]);
						}
					}
				}

				//2. ë¯¸ì„¸ë¨¼ì§€ ê°’ ê³„ì‚°
				while (!q.empty()) {
					int i = q.front();
					q.pop();

					int j = q.front();
					q.pop();

					int n = q.front();
					q.pop();

					for (int k = 0; k < 4; k++) {
						int ny = i + dx[k];
						int nx = j + dy[k];

						//ë²”ìœ„ ê²€ì‚¬ í›„ ê³„ì‚°
						if (ny >= 0 && ny < r && nx >= 0 && nx < c) {
							if (a[ny][nx] > -1) {
								a[ny][nx] += (n / 5);
								a[i][j] -= (n / 5);
							}
						}

					}
				}


				//ê³µê¸°ì²­ì •ê¸° ê°€ë™
				int sp = 0;
				for (int i = 0; i < r; i++) {
					if (a[i][0] == -1) {
						sp = i;
						break;
					}
				}

				//ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ê°€ë™
				for (int k = sp-2; k >= 0; k--) {
					a[k+1][0] = a[k][0];
				}
				for (int k = 1; k <= c-1; k++) {
					a[0][k-1] = a[0][k];
				}
				for (int k = 1; k <= sp; k++) {
					a[k-1][c-1] = a[k][c-1];
				}
				for (int k = c-2; k >= 1; k--) {
					a[sp][k+1] = a[sp][k];
				}
				a[sp][1] = 0;


				sp++;
				//ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ê°€ë™
				for (int k = sp+2; k <= r-1; k++) {
					a[k-1][0] = a[k][0];
				}
				for (int k = 1; k <= c-1; k++) {
					a[r-1][k-1] = a[r-1][k];
				}
				for (int k = r-2; k >= sp; k--) {
					a[k+1][c-1] = a[k][c-1];
				}
				for (int k = c-2; k >= 1; k--) {
					a[sp][k+1] = a[sp][k];
				}
				a[sp][1] = 0;

			}

			int ans = 0;
			for (int i = 0; i < r; i++) {
				for (int j = 0; j < c; j++) {
					if (a[i][j] > 0) {
						ans += a[i][j];
					}
				}
			}

			cout << ans << "\n";
			return 0;
		}
	```

</div>
</details>


<details>
    <summary>code - JAVA (20200902)</summary>
    <div markdown="1">

    ```java
	import java.util.ArrayList;
	import java.util.List;
	import java.util.Scanner;

	public class BOJ17144_ë¯¸ì„¸ë¨¼ì§€ì•ˆë…• {

		public static class Dust{
			int x, y, div, cnt;

			public Dust(int x, int y, int div, int cnt) {
				this.x = x;
				this.y = y;
				this.div = div;
				this.cnt = cnt;
			}
		}

		static int R, C, T;
		static int[][] map;
		static int[][] dir = { {-1, 0}, {1, 0}, {0, -1}, {0, 1} };
		static int[] cleaner = new int[2];

		public static void main(String[] args) {
			// input
			Scanner sc = new Scanner(System.in);
			R = sc.nextInt();
			C = sc.nextInt();
			T = sc.nextInt();

			map = new int[R][C];
			int cleanerIdx = 0;
			for(int i=0; i<R; i++) {
				for(int j=0; j<C; j++) {
					map[i][j] = sc.nextInt();

					// ê³µê¸°ì²­ì •ê¸°
					if(map[i][j] == -1) {
						cleaner[cleanerIdx++] = i;
					}
				}
			}

			while(T-- > 0) {

				// ë¯¸ì„¸ë¨¼ì§€ ë¦¬ìŠ¤íŠ¸
				List<Dust> dustList = new ArrayList<Dust>();
				for(int i=0; i<R; i++) {
					for(int j=0; j<C; j++) {
						if(map[i][j] > 0) {		// ë¯¸ì„¸ ë¨¼ì§€ê°€ ìˆëŠ” ê²½ìš°
							dustList.add(new Dust(i, j, map[i][j]/5, 0));
						}
					}
				}

				// ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°
				for(Dust d : dustList) {

					for(int k=0; k<4; k++) {	// ë„¤ ë°©í–¥ìœ¼ë¡œ í™•ì‚°
						int nx = d.x+dir[k][0];
						int ny = d.y+dir[k][1];

						if(nx >=0 && nx < R && ny >= 0 && ny < C && map[nx][ny] != -1) {
							map[nx][ny] += d.div;
							d.cnt++;
						}
					}

					map[d.x][d.y] -= d.div*d.cnt;	// í™•ì‚°ëœ ë§Œí¼ ë¹¼ì¤Œ
				}

				// ê³µê¸° ì²­ì •ê¸° ê°€ë™
				// ë°˜ì‹œê³„ ë°©í–¥
				for(int i=cleaner[0]-1; i > 0 ; i--) {	// ì¢Œ
					map[i][0] = map[i-1][0];
				}
				for(int i=0; i<C-1; i++) {				// ìƒ
					map[0][i] = map[0][i+1];
				}
				for(int i=0; i<cleaner[0]; i++) {		// ìš°
					map[i][C-1] = map[i+1][C-1];
				}
				for(int i=C-1; i>1 ; i--) {				// í•˜
					map[cleaner[0]][i] = map[cleaner[0]][i-1];
				}
				map[cleaner[0]][1] = 0;

				// ì‹œê³„ ë°©í–¥
				for(int i=cleaner[1]+1; i < R-1 ; i++) { //ì¢Œ
					map[i][0] = map[i+1][0];
				}
				for(int i=0; i<C-1; i++) {				// í•˜
					map[R-1][i] = map[R-1][i+1];
				}
				for(int i=R-1; i>cleaner[1]; i--) {		// ìš°
					map[i][C-1] = map[i-1][C-1];
				}
				for(int i=C-1; i>1 ; i--) {				// ìƒ
					map[cleaner[1]][i] = map[cleaner[1]][i-1];
				}
				map[cleaner[1]][1] = 0;
			}

			int answer = 0;
			for(int i=0; i<R; i++) {
				for(int j=0; j<C; j++) {
					if(map[i][j] > 0)	answer += map[i][j];
				}
			}

			System.out.println(answer);
			sc.close();
		}

	}
	```

</div>
</details>



<details>
    <summary>code - JAVA (20201201)</summary>
    <div markdown="1">

    ```java
	import java.awt.Point;
	import java.io.BufferedReader;
	import java.io.InputStreamReader;
	import java.util.LinkedList;
	import java.util.Queue;
	import java.util.StringTokenizer;

	public class Main {

		static int R, C;
		static int[][] dir = { {-1,0}, {1,0}, {0,-1}, {0,1} };
		public static void main(String[] args) throws Exception {
			BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
			StringTokenizer st = new StringTokenizer(br.readLine(), " ");
			
			R = Integer.parseInt(st.nextToken());
			C = Integer.parseInt(st.nextToken());
			int T = Integer.parseInt(st.nextToken());
			int[][] room = new int[R][C];
			int[] cleaner = new int[2];
			
			int cleanerIndex = 0;
			for (int i = 0; i < R; i++) {
				st = new StringTokenizer(br.readLine(), " ");
				for (int j = 0; j < C; j++) {
					room[i][j] = Integer.parseInt(st.nextToken());
					if(room[i][j] == -1) {
						cleaner[cleanerIndex++] = i;
					}
				}
			}
			
			for (int t = 0; t < T; t++) {
				diffusion(room);
				clean(room, cleaner);
			}
			
			System.out.println(getDust(room));
		}
		
		private static int getDust(int[][] room) {
			int count = 0;
			for (int i = 0; i < R; i++) {
				for (int j = 0; j < C; j++) {
					if(room[i][j] > 0)	count+= room[i][j];
				}
			}
			return count;
		}

		private static void clean(int[][] room, int[] cleaner) {
			// ìœ„: ë°˜ì‹œê³„ ë°©í–¥
			int cr = cleaner[0];
			for(int i = cr-1; i > 0; i--) {	// ì¢Œ
				room[i][0] = room[i-1][0];
			}
			for(int i = 0; i < C-1; i++) {	// ìƒ
				room[0][i] = room[0][i+1];
			}
			for (int i = 0; i < cr; i++) {	// ìš°
				room[i][C-1] = room [i+1][C-1];
			}
			for (int i = C-1; i > 0; i--) { // í•˜
				if(i == 1)	room[cr][1] = 0;
				else 		room[cr][i] = room[cr][i-1];			
			}
			
			// ì•„ë˜: ì‹œê³„ë°©í–¥
			cr = cleaner[1];
			for(int i = cr+1; i < R-1; i++) {	// ì¢Œ
				room[i][0] = room[i+1][0];
			}
			for (int i = 0; i < C-1; i++) { // í•˜
				room[R-1][i] = room[R-1][i+1];			
			}
			for (int i = R-1; i > cr; i--) {	// ìš°
				room[i][C-1] = room [i-1][C-1];
			}
			for(int i = C-1; i > 0; i--) {	// ìƒ
				if(i == 1)	room[cr][1] = 0;
				else 		room[cr][i] = room[cr][i-1];
			}
		}

		private static void diffusion(int[][] room) {
			int[][] roomCopy = new int[R][C];
			for (int i = 0; i < R; i++) {
				for (int j = 0; j < C; j++) {
					roomCopy[i][j] = room[i][j];
				}
			}
			
			Queue<Point> q = new LinkedList<Point>();
			
			for (int i = 0; i < R; i++) {
				for (int j = 0; j < C; j++) {
					if(room[i][j] > 0)	q.offer(new Point(i, j));
				}
			}
			
			while(!q.isEmpty()) {
				Point now = q.poll();
				int count = 0;
				for (int k = 0; k < 4; k++) {
					int nr = now.x + dir[k][0];
					int nc = now.y + dir[k][1];
					
					if(nr >= 0 && nr < R && nc >= 0 && nc < C && room[nr][nc] != -1) {
						room[nr][nc] += roomCopy[now.x][now.y]/5;
						count++;
					}
				}
				room[now.x][now.y] -= count * (roomCopy[now.x][now.y]/5);
			}
		}

	}
    ```

</div>
</details>


## Review

í’€ì´ ì•ˆë³´ê³  ìŠ¤ìŠ¤ë¡œ ìƒê°í•´ì„œ í‘¼ ë¬¸ì œë¼ ë¿Œë“¯â˜ºâ˜ºâ˜º  
ê³µê¸°ì²­ì •ê¸° ê°€ë™í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì´ë™í•˜ëŠ” ë¶€ë¶„ ë ë¶€ë¶„ë¶€í„° ì´ë™í•´ì•¼ ê³„ì‚°ì— ì˜¤ë¥˜ê°€ ì—†ë‹¤. ì´ ë¶€ë¶„ ë•Œë¬¸ì— í’€ì´ê°€ ì¢€ ì˜¤ë˜ê±¸ë ¸ë‹¤.  
ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°ë¶€ë¶„ê³¼ ê³µê¸°ì²­ì •ê¸° ê°€ë™ ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ë”°ë¡œ ë¹¼ë©´ mainì´ ê°„ì†Œí™” ë˜ê³  ì¡°ê¸ˆ ë” ë³´ê¸° ì¢‹ì•˜ì„ ê²ƒ ê°™ë‹¤.


### 2020.12.1 Review
- ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°, ê³µê¸°ì²­ì •ê¸° ê°€ë™ ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ì²˜ë¦¬
- ë¯¸ì„¸ë¨¼ì§€ í™•ì‚°ì—ì„œ ListëŒ€ì‹  Queue ì‚¬ìš©
- clean methodì—ì„œ í•œì¹¸ì”© ë•¡ê¸°ëŠ” ë¶€ë¶„ êµ¬í˜„ì´ êµ‰ì¥íˆ ì˜¤ë˜ ê±¸ë ¸ë‹¤ğŸ˜°
