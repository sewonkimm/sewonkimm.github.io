---
layout: post
title: ë°±ì¤€ 2234:ì„±ê³½
date: 2021-01-28 22:25:00
author: 'SeWonKim'
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, BOJ]
fullview: false
comments: true
description: Baekjoon 2234
---

> [Baekjoon 2234](https://www.acmicpc.net/problem/2234)

## Idea

### ğŸ¥šë³€ìˆ˜

- int n, m : ì„±ì˜ í¬ê¸°(n: ì„¸ë¡œ, m: ê°€ë¡œ) 
- int[m][n] map : ë²½ì— ëŒ€í•œ ì •ë³´
- int[m][n] room : ë°© ë²ˆí˜¸
- ArrayList<Integer> area : ê° ë°©ì˜ ë„“ì´
- int[4][2] dir : 4ë°©í–¥ ì„œ, ë¶, ë™, ë‚¨ ìˆœì„œë¡œ ì„ ì–¸. { {0,-1}, {-1,0}, {0,1}, {1,0} }
- int roomSize, roomSize2 : ë„“ì´ ìµœëŒ“ê°’, ë²½ í•œê°œ ë¶€ì…¨ì„ ë•Œ ë„“ì´ ìµœëŒ“ê°’;


### ğŸ³í’€ì´ ì „ëµ

`BFS + ë¹„íŠ¸ë§ˆìŠ¤í‚¹`

- ë²½ì˜ ìœ ë¬´ë¥¼ ì²´í¬í•˜ê¸° ìœ„í•´ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ì„ ì‚¬ìš©í•œë‹¤.
  
```html

2^0 = ì„œ
2^1 = ë¶
2^2 = ë™
2^3 = ë‚¨

11 = 1011 ; ì„œ, ë¶, ë‚¨ì— ë²½ì´ ìˆìŒ
6 = 0110 ; ë¶, ë‚¨ì— ë²½ì´ ìˆìŒ
13 = 1101 ; ì„œ, ë™, ë‚¨ì— ë²½ì´ ìˆìŒ

```

1. ë¨¼ì € BFS íƒìƒ‰í•˜ë©´ì„œ ë°© ë²ˆí˜¸ì™€ ë°© ë„“ì´ë¥¼ ê¸°ë¡í•´ì¤€ë‹¤.
    - ì´ë•Œ ë‹¤ìŒ ìœ„ì¹˜ì— ë²½ì´ ìˆìœ¼ë©´ ê°€ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ë¹„íŠ¸ë§ˆìŠ¤í‚¹
    - `map[r][c] & (1<<k)` ê°’ì´ 0ì´ ì•„ë‹ˆë¼ë©´ ê·¸ ë°©í–¥ì—ëŠ” ë²½ì´ ìˆë‹¤ëŠ” ëœ»!
2. ë²½ì„ 1ê°œ ë¶€ì‰ˆì„ ë•Œ ë„“ì´ë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ ë°˜ë³µë¬¸ì„ ëŒë¦°ë‹¤.
    - í•´ë‹¹ ë°©í–¥ìœ¼ë¡œ ë²½ì´ 1ê°œ ìˆê³ , ë²½ì„ ë¶€ì‰ˆì„ ë•Œ ì„œë¡œ ë‹¤ë¥¸ ë°©ì´ ë‚˜ì˜¤ë©´ ë‘ ë°©ì„ í•˜ë‚˜ë¡œ í•©ì¹  ìˆ˜ ìˆë‹¤.
    - ê·¸ë•Œì˜ ë„“ì´ ìµœëŒ“ê°’ì„ ê°±ì‹ í•œë‹¤.

&nbsp;  
&nbsp;


<details>
<summary>code</summary>
<div markdown="1">

```java
import java.awt.*;
import java.io.*;
import java.util.*;

public class BOJ2234_ì„±ê³½ {
    static int[][] dir = { {0,-1}, {-1,0}, {0,1}, {1,0} };
    static int n, m, roomSize, roomSize2;
    static ArrayList<Integer> area = new ArrayList<Integer>();
    static int[][] map, room;
    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        map = new int[m][n];
        room = new int[m][n];
        roomSize = Integer.MIN_VALUE;
        area.add(0);
        for (int i = 0; i < m; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            for (int j = 0; j < n; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        // ë°© ë²ˆí˜¸ë¥¼ ë¶™ì´ê¸° ìœ„í•´ BFS
        int roomCount = 0;
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if(room[i][j] == 0) bfs(i, j, ++roomCount);
            }
        }

        // ë²½ì„ í•˜ë‚˜ ì œê±°í–ˆì„ ë•Œ
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                getMaxArea(i, j);
            }
        }


        bw.write(roomCount + "\n");
        bw.write(roomSize + "\n");
        bw.write(roomSize2 + "\n");
        bw.flush();
    }

    private static void getMaxArea(int r, int c) {
        for (int k = 0; k < 4; k++) {
            int nr = r + dir[k][0];
            int nc = c + dir[k][1];

            if(nr >= 0 && nr < m && nc >= 0 && nc <n) {
                // ë²½ì´ ìˆê³ , ë‹¤ë¥¸ ë°©ì´ë¼ë©´
                if((map[r][c] & (1<<k)) != 0 && room[r][c] != room[nr][nc]) {
                    int sum = area.get(room[r][c]) + area.get(room[nr][nc]);
                    roomSize2 = Math.max(roomSize2, sum);
                }
            }
        }
    }

    private static void bfs(int r, int c, int number) {
        Queue<Point> q = new LinkedList<Point>();
        q.add(new Point(r, c));
        room[r][c] = number;

        int size = 0;
        size++;

        while(!q.isEmpty()) {
            Point now = q.poll();

            for (int k = 0; k < 4; k++) {
                // ë²½ì´ ìˆìœ¼ë©´ ê°€ì§€ ì•ŠëŠ”ë‹¤.
                if((map[now.x][now.y] & (1 << k)) != 0) continue;

                int nr = now.x + dir[k][0];
                int nc = now.y + dir[k][1];
                if(room[nr][nc] == 0) { // ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ê³³ì´ë©´
                    room[nr][nc] = number;
                    q.add(new Point(nr, nc));
                    size++;
                }
            }
        }

        area.add(size);

        // ë°© ë„“ì´ ìµœëŒ“ê°’ ê°±ì‹ 
        roomSize = Math.max(roomSize, size);
    }
}
```

</div>
</details>

&nbsp;  
&nbsp;

## Review

ë¹„íŠ¸ë§ˆìŠ¤í¬ëŠ” ë¬¸ì œë¥¼ ë§ì´ ì•ˆí’€ì–´ë´ì„œ ê·¸ëŸ°ì§€ ìƒì†Œí•˜ë‹¤.
ì‚¬ì‹¤ ë¬¸ì œë„ ì˜ ì´í•´ê°€ ì•ˆê°€ì„œ í•œì°¸ì„ ì½ì—ˆë‹¤.


&nbsp;  
&nbsp;
