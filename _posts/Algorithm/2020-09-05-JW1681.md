---
layout: post
title: ì •ì˜¬ 1681:í•´ë°€í„´ ìˆœí™˜íšŒë¡œ
date: 2020-09-05 10:10:00
author: "SeWonKim"
categories: [CS, Algorithm]
tags: [ì•Œê³ ë¦¬ì¦˜, Jungol, tsp]
fullview: false
comments: true
description: ì •ì˜¬ 1681
---

> [ì •ì˜¬ 1681](http://jungol.co.kr/bbs/board.php?bo_table=pbank&wr_id=954&sca=3030#n)

tsp(ì™¸íŒì› ìˆœíšŒ) ë¬¸ì œ

## Idea

1. `ìˆœì—´`ë¡œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•œë‹¤.
2. ì¶œë°œì§€ëŠ” í•­ìƒ 1ë²ˆì´ê¸° ë•Œë¬¸ì— 1ë¡œ ì‹œì‘í•˜ëŠ” ìˆœì—´ì´ ì•„ë‹ˆë©´ ê°€ì§€ì¹˜ê¸°

---

## Code

### ì¬ê·€ì  ë°©ë²•ìœ¼ë¡œ ìˆœì—´ êµ¬í˜„ - ğŸ’£ì‹œê°„ì´ˆê³¼

```java
import java.util.Scanner;

public class algo {

	static int N, min;
	static int[][] arr;
	static int[] input;
	static boolean[] visited;
	public static void main(String[] args) {
		// Input
		Scanner sc = new Scanner(System.in);
		N = sc.nextInt();				// ë°°ë‹¬í•´ì•¼í•˜ëŠ” ì¥ì†Œì˜ ìˆ˜
		arr = new int[N][N];	// ì¸ì ‘í–‰ë ¬
		for(int i=0; i<N; i++) {
			for(int j=0; j<N; j++) {
				arr[i][j] = sc.nextInt();
			}
		}
		min = Integer.MAX_VALUE;

		// ìˆœì—´ì„ ë§Œë“¤ê¸° ìœ„í•œ ë°°ì—´
		input = new int[N];
		visited = new boolean[N];
		for(int i=0; i<N; i++) {
			input[i] = i;
		}

		perm(0);

		// Output
		System.out.println(min);
		sc.close();
	}

	private static void perm(int cnt) {

		// ê¸°ì €ì¡°ê±´
		if(cnt == N) {

			if(input[0] == 0) {		// ì¶œë°œì§€ì ì´ 0ì¼ ë•Œë§Œ ë¹„ìš© ê³„ì‚°
				int sum = 0;
				int last = 0;	// ë§ˆì§€ë§‰ ë°©ë¬¸í•œ ë„ì‹œ (0ë¶€í„° ë°©ë¬¸ì‹œì‘í•˜ë¯€ë¡œ ì´ˆê¸°ê°’ 0)
				for(int i=1; i<N; i++) {
					sum += arr[last][input[i]];
					last = input[i];
				}
				sum += arr[last][0];		// ì¶œë°œì ìœ¼ë¡œ ëŒì•„ì˜¤ëŠ” ë¹„ìš©
				min = Math.min(min, sum);	// ìµœì†Ÿê°’ ê°±ì‹ 
			}
			return;
		}

		// ìœ ë„ ì¡°ê±´
		for(int i=0; i<N; i++) {
			if(!visited[i]) {
				visited[i] = true;
				input[cnt] = i;
				perm(cnt+1);
				visited[i] = false;
			}
		}

	}

}

```

### next permutationìœ¼ë¡œ ìˆœì—´ êµ¬í˜„ - ğŸ’£ì‹œê°„ì´ˆê³¼

```java

import java.util.Scanner;

public class algo_np {

	static int N, min;
	static int[] input;
	public static void main(String[] args) {
		// Input
		Scanner sc = new Scanner(System.in);
		N = sc.nextInt();				// ë°°ë‹¬í•´ì•¼í•˜ëŠ” ì¥ì†Œì˜ ìˆ˜
		int[][] arr = new int[N][N];	// ì¸ì ‘í–‰ë ¬
		for(int i=0; i<N; i++) {
			for(int j=0; j<N; j++) {
				arr[i][j] = sc.nextInt();
			}
		}
		min = Integer.MAX_VALUE;

		// ìˆœì—´ì„ ë§Œë“¤ê¸° ìœ„í•œ ë°°ì—´
		input = new int[N];
		for(int i=0; i<N; i++) {
			input[i] = i;
		}

		do {
			if(input[0] == 0) {
				// ì¶œë°œì§€ì ì´ 0ì´ë©´ ë¹„ìš© ê³„ì‚°
				int sum = 0;
				int last = 0;	// ë§ˆì§€ë§‰ ë°©ë¬¸í•œ ë„ì‹œ (0ë¶€í„° ë°©ë¬¸ì‹œì‘í•˜ë¯€ë¡œ ì´ˆê¸°ê°’ 0)
				for(int i=1; i<N; i++) {
					sum += arr[last][input[i]];
					last = input[i];
				}
				sum += arr[last][0];		// ì¶œë°œì ìœ¼ë¡œ ëŒì•„ì˜¤ëŠ” ë¹„ìš©
				min = Math.min(min, sum);	// ìµœì†Ÿê°’ ê°±ì‹ 
			}
		}while(nextPermutation());


		// Output
		System.out.println(min);
		sc.close();
	}

	private static boolean nextPermutation() {
		int i = N-1;
		while( i>0 && input[i-1] > input[i] ) {
			--i;
		}
		if(i==0)	return false;

		int j = N-1;
		while(input[i-1] > input[j]) {
			--j;
		}

		swap(i-1, j);

		int k = N-1;
		while(i<k) {
			swap(i++, k--);
		}

		return true;
	}

	private static void swap(int i, int j) {
		int tmp = input[i];
		input[i] = input[j];
		input[j] = tmp;
	}
}

```

## ìˆœì—´ë¡œ í’€ë©´ ì‹œê°„ì´ˆê³¼ê°€ ë‚œë‹¤?!

ì¬ê·€ì  ë°©ë²•ìœ¼ë¡œ í‘¸ëŠ”ê²ƒ, next permutation ëª¨ë‘ ğŸ’£ì‹œê°„ì´ˆê³¼...

ì‹œê°„ë³µì¡ë„ê°€ O(N!)ì´ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ìˆœì—´ë¡œëŠ” í•´ê²°í•  ìˆ˜ ì—†ë‹¤.

## ë°±íŠ¸ë˜í‚¹ âœ…PASSâœ…

ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ê³„ì‚°í•˜ì§€ ë§ê³ , ë°±íŠ¸ë˜í‚¹ì„ ì‚¬ìš©í•´ì„œ start ì§€ì ì„ 0ìœ¼ë¡œ ì •í•´ë†“ì€ ê²½ìš°ë§Œ ì‚´í´ë³¸ë‹¤.

```java

import java.util.Scanner;

public class algo {

	static int N, min;
	static int[][] arr;
	static int[] visited;
	public static void main(String[] args) {
		// Input
		Scanner sc = new Scanner(System.in);
		N = sc.nextInt();		// ë°°ë‹¬í•´ì•¼í•˜ëŠ” ì¥ì†Œì˜ ìˆ˜
		arr = new int[N][N];	// ì¸ì ‘í–‰ë ¬
		for(int i=0; i<N; i++) {
			for(int j=0; j<N; j++) {
				arr[i][j] = sc.nextInt();
			}
		}
		min = Integer.MAX_VALUE;
		visited = new int[N];
		visited[0] = 1;

		tsp(0, 0, 0, 1);

		// Output
		System.out.println(min);
		sc.close();
	}

	private static void tsp(int start, int location, int sum, int cnt) {
		if(cnt == N) {

			if(arr[location][start] == 0)	return;	// ë‹¤ì‹œ ì‹œì‘í•œ ê³³ìœ¼ë¡œ ëŒì•„ê°ˆ ìˆ˜ ì—†ëŠ” ê²½ìš°

			sum += arr[location][start];
			min = Math.min(min, sum);
			return;
		}

		for(int i=0; i<N; i++) {
			if(visited[i] == 0 && arr[location][i] != 0) {
				visited[i] = 1;
				tsp(start, i, sum+arr[location][i], cnt+1);
				visited[i] = 0;
			}
		}
	}
}

```

---

## Review

ì•„... ì´ê±´ í˜¼ìì„œëŠ” ë„ì €íˆ í•´ë‹µì„ ìƒê° ëª»í–ˆì„ ê²ƒ ê°™ë‹¤. ë°±íŠ¸ë˜í‚¹...ã…‚ã„·ã…‚ã„·
