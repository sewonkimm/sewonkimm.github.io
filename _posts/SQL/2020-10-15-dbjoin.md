---
layout: post
title: ğŸŒˆDB JOIN
date: 2020-10-15 11:00:00
author: "SeWonKim"
categories: [SQL]
tags: [jekyll, etc, SQL]
fullview: false
comments: true
description: JOIN
---

- ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ ì·¨í•©í•´ì„œ í•˜ë‚˜ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ë•Œ JOIN ì‚¬ìš©
- ì¼ë°˜ì ìœ¼ë¡œ ì¡°ê±´ì„ í¬í•¨í•˜ëŠ” WHERE ì ˆì„ ì‘ì„± (ì¡°ê±´ì„ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ ê²°ê³¼ ê°¯ìˆ˜ê°€ ì¹´íƒ€ì‹œì•ˆ ê³±ì´ ë‚˜ì˜¨ë‹¤)
- JOIN ì¡°ê±´ì€ ëŒ€ë¶€ë¶„ PK, FKë¡œ êµ¬ì„±

## INNER JOIN / OUTER JOIN

- ì–´ëŠ í…Œì´ë¸”ì„ ë¨¼ì € ì½ì„ì§€ ê²°ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”
- INNER JOINì€ MySQL ì˜µí‹°ë§ˆì´ì €ê°€ ìˆœì„œë¥¼ ìµœì í™”
- OUTER JOINì€ OUTERê°€ ë˜ëŠ” í…Œì´ë¸”ì„ ë¨¼ì € ì½ì–´ì•¼ í•œë‹¤.
- null ê°’ë„ JOIN í•˜ê³  ì‹¶ì„ ê²½ìš° OUTER JOIN

### INNER JOIN

```SQL
select e.empid, e.empname, e.deptno, d.deptname
from emp e, dept d
where e.deptno = d.deptno;

-- inner join 1) on
select e.empid, e.empname, e.deptno, d.deptname
from emp e inner join dept d
on e.deptno = d.deptno
where e.empid = 10;

-- inner join 2) using
select e.empid, e.empname, e.deptno, d.deptname
from emp e inner join dept d
using (deptno) ğŸ‘ˆ alias ì“°ì§€ ì•Šë„ë¡ ì£¼ì˜!
where e.empid = 10;

-- inner join 3) natural join ğŸ‘ˆ í…Œì´ë¸” êµ¬ì¡°ì— ê²¹ì¹˜ëŠ” columnì´ 2ê°œ ì´ìƒì´ë©´ ê°’ì´ ì•ˆë‚˜ì˜¬ ìˆ˜ë„ ìˆë‹¤.
select e.empid, e.empname, e.deptno, d.deptname
from emp e natural join dept d
where e.empid = 10;
```

natural joinì€ onì´ë‚˜ usingì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.


### OUTER JOIN

ì–´ëŠ í•œìª½ í…Œì´ë¸”ì—ëŠ” ë°ì´í„°ê°€ ìˆëŠ”ë° ë‹¤ë¥¸ìª½ì—ëŠ” ë°ì´í„°ê°€ ì—†ì„ ë•Œ     
ê·¸ ë°ì´í„°ê°€ ê²€ìƒ‰ë˜ì§€ ì•ŠëŠ” ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©

- LEFT OUTER JOIN : ì™¼ìª½ í…Œì´ë¸”ì˜ ëª¨ë“  ë°ì´í„°
- RIGHT OUTER JOIN : ì˜¤ë¥¸ìª½ í…Œì´ë¸”ì˜ ëª¨ë“  ë°ì´í„°
- FULL OUTER JOIN : MySQLì—ì„œëŠ” ì§€ì›í•˜ì§€ ì•ŠìŒ

### SELF JOIN 

```SQL
select e.empid, e.empname, e.managerid, m.managername
from emp e inner join emp m
on e.managerid = m.empid;
```

ê°™ì€ í…Œì´ë¸”ë¼ë¦¬ JOIN í•˜ëŠ” ê²½ìš°

### JOINì„ ì—¬ëŸ¬ê°œ í•˜ëŠ” ê²½ìš°
```SQL
-- ì‚¬ë²ˆ, ì´ë¦„, ë¶€ì„œëª…, ê·¼ë¬´ë„ì‹œ, êµ­ê°€, ëŒ€ë¥™
-- inner join
select e.empid, e.empname, d.deptname, l.city, c.countryname, r.regionname
from emp e inner join dept d
on e.deptno = d.deptno
inner join locations l
on d.locationid = l.locationid
inner join countries c
on l.contryid = c.contryid
inner join regions r
on c.regionid = r.regionid;

-- ì¼ë°˜ì ì¸ join
select e.empid, e.empname, d.deptname, l.city, c.countryname, r.regionname
from emp e, dept d, locations l, countries c, regions r
where e.deptno = d.deptno
and d.locationid = l.locationid
and l.contryid = c.contryid
and c.regionid = r.regionid; 
```
