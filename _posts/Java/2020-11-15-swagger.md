---
layout: post
title: ğŸ‘¨â€ğŸ”¬Swaggerë¡œ API ë¬¸ì„œí™”í•˜ê¸°
date: 2020-11-15 02:41:00
author: 'SeWonKim'
categories: [Java]
tags: [jekyll, TIL, Java, web, api, swagger, spring, springboot]
fullview: false
comments: true
description: REST APIë€?
---

# ëª©ì°¨

- Swagger
- Spring boot & gradle í™˜ê²½ì—ì„œ swagger ì ìš©í•˜ê¸°

&nbsp;  
&nbsp;  
&nbsp;

---

## Swagger

> [Swagger í™ˆí˜ì´ì§€](https://swagger.io/)

swaggerëŠ” í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” APIë¥¼ htmlë¬¸ì„œë¡œ ê¹”-ìŒˆí•˜ê²Œ ì •ë¦¬í•´ì£¼ëŠ” ìë™í™” ë„êµ¬ì…ë‹ˆë‹¤.

Front ê°œë°œìê°€ ì„œë²„ ê°œë°œìê°€ ë§Œë“  API ë¬¸ì„œë¥¼ ë³´ë©° ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì–´ í˜‘ì—…ì—ë„ ìš©ì´í•©ë‹ˆë‹¤. Swaggerë¥¼ ì‚¬ìš©í•˜ë©´ APIë¥¼ ìë™ìœ¼ë¡œ ì •ë¦¬ê°€ ë˜ê¸° ë•Œë¬¸ì— APIê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ë¬¸ì„œì‘ì—…ì„ í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

![img](https://geeks.ms/rafahernandez/wp-content/uploads/sites/251/2018/08/image-2.png)

ì´ëŸ°ì‹ìœ¼ë¡œ APIë¥¼ ë¬¸ì„œí™”í•˜ê³ , í…ŒìŠ¤íŠ¸ê¹Œì§€ í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ë²•ì€ ìƒê°ë³´ë‹¤ ê°„ë‹¨í•©ë‹ˆë‹¤.

&nbsp;  
&nbsp;

## Spring boot & gradle í™˜ê²½ì—ì„œ swagger ì ìš©í•˜ê¸°

### 1. build.gradle ì— dependency ì¶”ê°€

```java
compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'
compile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'
```

&nbsp;

### 2. SwaggerConfig.java ìƒì„±

```java
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

// swagger url
//http://localhost:9999/vue/swagger-ui.html


@Configuration
@EnableSwagger2
public class SwaggerConfig {

	@Bean
	public Docket postsApi() {
		return new Docket(DocumentationType.SWAGGER_2)
				.groupName("project title")
				.apiInfo(apiInfo())
				.select()
				.apis(RequestHandlerSelectors.basePackage("com.mycom.myapp.controller")) // .apis(RequestHandlerSelectors.any())ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ RequestMappingìœ¼ë¡œ í• ë‹¹ëœ ëª¨ë“  URL ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œ
				.paths(PathSelectors.ant("/api/**"))    // /api/** ì¸ URLë“¤ë§Œ í•„í„°ë§. ëª¨ë“  urlì„ ë…¸ì¶œí•˜ê³  ì‹¶ìœ¼ë©´ /**ë¡œ ì“°ë©´ ëœë‹¤.
				.build();
	}

	private ApiInfo apiInfo() {
		return new ApiInfoBuilder().title("MY API")
				.description("MY API Reference for Developers")
				.termsOfServiceUrl("https://edu.ssafy.com")
				.license("MY License")
				.licenseUrl("https://sewonkimm.github.io/").version("1.0").build();
	}

}
```

&nbsp;

### ì˜ˆê¸°ì¹˜ ëª»í•œ ë¬¸ì œ : SpringFox doesn't work with Gson out of the box

![image](https://user-images.githubusercontent.com/30452963/99155058-06a2a780-26f8-11eb-9432-6526c983061d.png)

springfoxë¥¼ gson ì´ë‘ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤...

build.gradleì—ì„œ GSON ê´€ë ¨ dependencyë¥¼ ì§€ìš°ê³ , ëª¨ë“  json ì²˜ë¦¬ë¥¼ jacksonìœ¼ë¡œ í•´ì£¼ì–´ ë¬¸ì œ í•´ê²°...!

![image](https://user-images.githubusercontent.com/30452963/99155525-ed9bf580-26fb-11eb-8bcd-0b0a9162d0be.png)

> [ì°¸ê³ ](https://github.com/SpringForAll/spring-boot-starter-swagger/issues/138)

ì•„... ì¤‘êµ­ì–´ë¥¼ í•  ì¤„ ì•Œì•„ì„œ ë‹¤í–‰ì´ë‹¤... ì‚½ì§ˆã… ...

&nbsp;

### 3. ë¬¸ì„œì— ë…¸ì¶œì„ ì›ì¹˜ ì•ŠëŠ” api ì œì™¸í•˜ê¸°

`@ApiIgnore` annotationì„ ë¬¸ì„œí™”í•˜ê³  ì‹¶ì§€ ì•Šì€ controller ìœ„ì— ë¶™ì—¬ì¤€ë‹¤.

&nbsp;  
&nbsp;  
&nbsp;
