---
layout: post
title: ğŸ©Java servlet
date: 2020-10-25 18:35:00
author: 'SeWonKim'
categories: [WEB, Java]
tags: [Java, web, servlet]
comments: true
---

# ëª©ì°¨

- Servlet Concept
- ì‹¤ìŠµ

&nbsp;  
&nbsp;  
&nbsp;

---

# Servlet Concept (Servlet == Java + Web)

## Web Architectureì— ê´€í•˜ì—¬...

![img](https://www.scnsoft.com/blog-pictures/web-apps/web-application-architecture-02.png)

- `FrontEnd`ì—ì„œ ID, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥í•˜ê³  `request`
- `Server`ì—ì„œ ë¡œì§ ì²˜ë¦¬(DBì— ì ‘ê·¼í•˜ëŠ” ê²ƒë„ ì„œë²„ ë‹´ë‹¹)
- ë¡œì§ = ë‚´ê°€ ë³´ë‚¸ ID, ë¹„ë°€ë²ˆí˜¸ì™€ DBì— ì €ì¥ëœ ID, ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¹„êµí•˜ëŠ” ê³¼ì •
- ì²˜ë¦¬í•œ ê°’ì„ `response`ë¡œ ë‹¤ì‹œ FrontEndì— ë„˜ê²¨ì¤Œ

&nbsp;  
&nbsp;

## Frontend ëŠ” HTML, CSS, JS / BackendëŠ” Java ì‚¬ìš©

- Frontendì—ì„œ ë³´ë‚¸ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì„œë²„ëŠ” Application serverë¼ê³  í•œë‹¤.
- WASëŠ” Web Application Server
- ì‹¤ìŠµ í™˜ê²½ì—ì„œëŠ” `tomcat ì„œë²„(WAS)`ê°€ ë°ì´í„° ì²˜ë¦¬ & DBì ‘ê·¼

> [tomcat ì„¤ì •](https://sewonkimm.github.io/java/2020/10/06/tomcat.html)

&nbsp;  
&nbsp;

## Servlet = Java + Web

Serverì—ì„œ í•˜ëŠ” ì¼

1. Presentation : url ìš”ì²­í•˜ë©´ html ë³´ë‚´ì£¼ê¸°
2. Business Logic ì²˜ë¦¬ : ë¡œê·¸ì¸ ë“±... ê³„ì‚°í•˜ëŠ” ê²ƒ
3. Persistence Logic : ìˆ˜ì •, ì‚­ì œ ë“±... DBì™€ ì—°ë™í•˜ëŠ” ì‘ì—…

&nbsp;  
&nbsp;

---

&nbsp;  
&nbsp;  
&nbsp;

# ì‹¤ìŠµ

## WebDynamic Project ë§Œë“¤ê¸°

1. runtime server : tomcat
2. context root : url ì„¤ì •
3. ğŸ“src í´ë”: java íŒŒì¼
4. ğŸ“WebContent í´ë” : view(html, css, js, jsp, image...) directory

&nbsp;  
&nbsp;

## Servlet

### ë§Œë“¤ì–´ì„œ ê°„ë‹¨íˆ ì‚¬ìš©í•´ë³´ê¸°

- Servlet íŒŒì¼ì€ **HttpServlet** classë¥¼ ìƒì†ë°›ëŠ”ë‹¤.
- @WebServlet annotationìœ¼ë¡œ url ë§µí•‘ (servlet 3.0 ë²„ì „ ì´í›„ë¶€í„° annotation ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. ì´ì „ì€ xmlë¡œ!)
- doGet(), doPost() ë©”ì†Œë“œë¡œ ìš”ì²­ì„ ì²˜ë¦¬
- í´ë¼ì´ì–¸íŠ¸ì—ê²Œ responseë¥¼ ë„˜ê²¨ì¤„ ë•Œì—ëŠ” `PrintWriter`ë¥¼ ì‚¬ìš©. ( out.println() )
- í•œê¸€ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œ response.setCharacterEncodingì„ UTF-8ë¡œ ì„¤ì •

### out.println() ìœ¼ë¡œ ì–´ë–»ê²Œ ë‹¤ ì“°ëƒê³ ...

- out.println()ì„ ì‚¬ìš©í•˜ê¸°ì—” HTML ì‘ì—…ì´ ë§¤ìš° ë¶ˆí¸ ğŸ‘‰ JSP ì‚¬ìš©
- servletì€ java ì½”ë“œ ì•ˆì— HTMLì´ ìˆëŠ” ê²ƒ
- JSPëŠ” HTML ì•ˆì— java ì½”ë“œê°€ ìˆëŠ” ê²ƒ

&nbsp;  
&nbsp;

## Servlet life cycle

1. init() : ì´ˆê¸°í™”
2. service(request, response) : ì¼ì²˜ë¦¬
3. destroy() : ì†Œë©¸

initê³¼ destroyëŠ” ì„œë²„ê°€ ì‹œì‘ë˜ê³ , êº¼ì§€ëŠ” ìˆœê°„ í•œ ë²ˆì”©ë§Œ í˜¸ì¶œë˜ê³ ,  
doGet, doPostì™€ ê°™ì€ serviceë©”ì†Œë“œëŠ” ìš”ì²­ì´ ì˜¬ ë•Œë§ˆë‹¤ í˜¸ì¶œëœë‹¤.

&nbsp;  
&nbsp;

## parameter ì „ë‹¬ ë°›ê¸° = getParameter ë©”ì†Œë“œ!

### GET ë°©ì‹

- query string ìœ¼ë¡œ parameter ì „ë‹¬

### POST ë°©ì‹

- getParameter ë©”ì†Œë“œë¡œ parameter ì „ë‹¬ (request ê°ì²´ì˜ ë©”ì†Œë“œ)

&nbsp;  
&nbsp;

## íŒŒì¼ ì—…ë¡œë“œ; multipartë¡œ!

- MultiPartConfig annotationì„ ì‚¬ìš©í•´ ë°ì´í„° ì²˜ë¦¬ë¥¼ í•œë‹¤. (@fileSizeThreshold, @location, @maxFileSize, @maxReqeustSize0)
